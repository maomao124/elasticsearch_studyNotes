<!doctype html>
<html>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width initial-scale=1'>

    <link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext'
          rel='stylesheet' type='text/css'/>
    <style type='text/css'>html {
        overflow-x: initial !important;
    }

    :root {
        --bg-color: #ffffff;
        --text-color: #333333;
        --select-text-bg-color: #B5D6FC;
        --select-text-font-color: auto;
        --monospace: "Lucida Console", Consolas, "Courier", monospace;
        --title-bar-height: 20px;
    }

    .mac-os-11 {
        --title-bar-height: 28px;
    }

    html {
        font-size: 14px;
        background-color: var(--bg-color);
        color: var(--text-color);
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        -webkit-font-smoothing: antialiased;
    }

    body {
        margin: 0px;
        padding: 0px;
        height: auto;
        inset: 0px;
        font-size: 1rem;
        line-height: 1.42857;
        overflow-x: hidden;
        background: inherit;
        tab-size: 4;
    }

    iframe {
        margin: auto;
    }

    a.url {
        word-break: break-all;
    }

    a:active, a:hover {
        outline: 0px;
    }

    .in-text-selection, ::selection {
        text-shadow: none;
        background: var(--select-text-bg-color);
        color: var(--select-text-font-color);
    }

    #write {
        margin: 0px auto;
        height: auto;
        width: inherit;
        word-break: normal;
        overflow-wrap: break-word;
        position: relative;
        white-space: normal;
        overflow-x: visible;
        padding-top: 36px;
    }

    #write.first-line-indent p {
        text-indent: 2em;
    }

    #write.first-line-indent li p, #write.first-line-indent p * {
        text-indent: 0px;
    }

    #write.first-line-indent li {
        margin-left: 2em;
    }

    .for-image #write {
        padding-left: 8px;
        padding-right: 8px;
    }

    body.typora-export {
        padding-left: 30px;
        padding-right: 30px;
    }

    .typora-export .footnote-line, .typora-export li, .typora-export p {
        white-space: pre-wrap;
    }

    .typora-export .task-list-item input {
        pointer-events: none;
    }

    @media screen and (max-width: 500px) {
        body.typora-export {
            padding-left: 0px;
            padding-right: 0px;
        }

        #write {
            padding-left: 20px;
            padding-right: 20px;
        }

        .CodeMirror-sizer {
            margin-left: 0px !important;
        }

        .CodeMirror-gutters {
            display: none !important;
        }
    }

    #write li > figure:last-child {
        margin-bottom: 0.5rem;
    }

    #write ol, #write ul {
        position: relative;
    }

    img {
        max-width: 100%;
        vertical-align: middle;
        image-orientation: from-image;
    }

    button, input, select, textarea {
        color: inherit;
        font: inherit;
    }

    input[type="checkbox"], input[type="radio"] {
        line-height: normal;
        padding: 0px;
    }

    *, ::after, ::before {
        box-sizing: border-box;
    }

    #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre {
        width: inherit;
    }

    #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p {
        position: relative;
    }

    p {
        line-height: inherit;
    }

    h1, h2, h3, h4, h5, h6 {
        break-after: avoid-page;
        break-inside: avoid;
        orphans: 4;
    }

    p {
        orphans: 4;
    }

    h1 {
        font-size: 2rem;
    }

    h2 {
        font-size: 1.8rem;
    }

    h3 {
        font-size: 1.6rem;
    }

    h4 {
        font-size: 1.4rem;
    }

    h5 {
        font-size: 1.2rem;
    }

    h6 {
        font-size: 1rem;
    }

    .md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p {
        margin-top: 1rem;
        margin-bottom: 1rem;
    }

    .hidden {
        display: none;
    }

    .md-blockmeta {
        color: rgb(204, 204, 204);
        font-weight: 700;
        font-style: italic;
    }

    a {
        cursor: pointer;
    }

    sup.md-footnote {
        padding: 2px 4px;
        background-color: rgba(238, 238, 238, 0.7);
        color: rgb(85, 85, 85);
        border-radius: 4px;
        cursor: pointer;
    }

    sup.md-footnote a, sup.md-footnote a:hover {
        color: inherit;
        text-transform: inherit;
        text-decoration: inherit;
    }

    #write input[type="checkbox"] {
        cursor: pointer;
        width: inherit;
        height: inherit;
    }

    figure {
        overflow-x: auto;
        margin: 1.2em 0px;
        max-width: calc(100% + 16px);
        padding: 0px;
    }

    figure > table {
        margin: 0px;
    }

    tr {
        break-inside: avoid;
        break-after: auto;
    }

    thead {
        display: table-header-group;
    }

    table {
        border-collapse: collapse;
        border-spacing: 0px;
        width: 100%;
        overflow: auto;
        break-inside: auto;
        text-align: left;
    }

    table.md-table td {
        min-width: 32px;
    }

    .CodeMirror-gutters {
        border-right: 0px;
        background-color: inherit;
    }

    .CodeMirror-linenumber {
        user-select: none;
    }

    .CodeMirror {
        text-align: left;
    }

    .CodeMirror-placeholder {
        opacity: 0.3;
    }

    .CodeMirror pre {
        padding: 0px 4px;
    }

    .CodeMirror-lines {
        padding: 0px;
    }

    div.hr:focus {
        cursor: none;
    }

    #write pre {
        white-space: pre-wrap;
    }

    #write.fences-no-line-wrapping pre {
        white-space: pre;
    }

    #write pre.ty-contain-cm {
        white-space: normal;
    }

    .CodeMirror-gutters {
        margin-right: 4px;
    }

    .md-fences {
        font-size: 0.9rem;
        display: block;
        break-inside: avoid;
        text-align: left;
        overflow: visible;
        white-space: pre;
        background: inherit;
        position: relative !important;
    }

    .md-fences-adv-panel {
        width: 100%;
        margin-top: 10px;
        text-align: center;
        padding-top: 0px;
        padding-bottom: 8px;
        overflow-x: auto;
    }

    #write .md-fences.mock-cm {
        white-space: pre-wrap;
    }

    .md-fences.md-fences-with-lineno {
        padding-left: 0px;
    }

    #write.fences-no-line-wrapping .md-fences.mock-cm {
        white-space: pre;
        overflow-x: auto;
    }

    .md-fences.mock-cm.md-fences-with-lineno {
        padding-left: 8px;
    }

    .CodeMirror-line, twitterwidget {
        break-inside: avoid;
    }

    .footnotes {
        opacity: 0.8;
        font-size: 0.9rem;
        margin-top: 1em;
        margin-bottom: 1em;
    }

    .footnotes + .footnotes {
        margin-top: 0px;
    }

    .md-reset {
        margin: 0px;
        padding: 0px;
        border: 0px;
        outline: 0px;
        vertical-align: top;
        background: 0px 0px;
        text-decoration: none;
        text-shadow: none;
        float: none;
        position: static;
        width: auto;
        height: auto;
        white-space: nowrap;
        cursor: inherit;
        -webkit-tap-highlight-color: transparent;
        line-height: normal;
        font-weight: 400;
        text-align: left;
        box-sizing: content-box;
        direction: ltr;
    }

    li div {
        padding-top: 0px;
    }

    blockquote {
        margin: 1rem 0px;
    }

    li .mathjax-block, li p {
        margin: 0.5rem 0px;
    }

    li blockquote {
        margin: 1rem 0px;
    }

    li {
        margin: 0px;
        position: relative;
    }

    blockquote > :last-child {
        margin-bottom: 0px;
    }

    blockquote > :first-child, li > :first-child {
        margin-top: 0px;
    }

    .footnotes-area {
        color: rgb(136, 136, 136);
        margin-top: 0.714rem;
        padding-bottom: 0.143rem;
        white-space: normal;
    }

    #write .footnote-line {
        white-space: pre-wrap;
    }

    @media print {
        body, html {
            border: 1px solid transparent;
            height: 99%;
            break-after: avoid;
            break-before: avoid;
            font-variant-ligatures: no-common-ligatures;
        }

        #write {
            margin-top: 0px;
            padding-top: 0px;
            border-color: transparent !important;
        }

        .typora-export * {
            -webkit-print-color-adjust: exact;
        }

        .typora-export #write {
            break-after: avoid;
        }

        .typora-export #write::after {
            height: 0px;
        }

        .is-mac table {
            break-inside: avoid;
        }

        .typora-export-show-outline .typora-export-sidebar {
            display: none;
        }
    }

    .footnote-line {
        margin-top: 0.714em;
        font-size: 0.7em;
    }

    a img, img a {
        cursor: pointer;
    }

    pre.md-meta-block {
        font-size: 0.8rem;
        min-height: 0.8rem;
        white-space: pre-wrap;
        background: rgb(204, 204, 204);
        display: block;
        overflow-x: hidden;
    }

    p > .md-image:only-child:not(.md-img-error) img, p > img:only-child {
        display: block;
        margin: auto;
    }

    #write.first-line-indent p > .md-image:only-child:not(.md-img-error) img {
        left: -2em;
        position: relative;
    }

    p > .md-image:only-child {
        display: inline-block;
        width: 100%;
    }

    #write .MathJax_Display {
        margin: 0.8em 0px 0px;
    }

    .md-math-block {
        width: 100%;
    }

    .md-math-block:not(:empty)::after {
        display: none;
    }

    .MathJax_ref {
        fill: currentcolor;
    }

    [contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus {
        outline: 0px;
        box-shadow: none;
    }

    .md-task-list-item {
        position: relative;
        list-style-type: none;
    }

    .task-list-item.md-task-list-item {
        padding-left: 0px;
    }

    .md-task-list-item > input {
        position: absolute;
        top: 0px;
        left: 0px;
        margin-left: -1.2em;
        margin-top: calc(1em - 10px);
        border: none;
    }

    .math {
        font-size: 1rem;
    }

    .md-toc {
        min-height: 3.58rem;
        position: relative;
        font-size: 0.9rem;
        border-radius: 10px;
    }

    .md-toc-content {
        position: relative;
        margin-left: 0px;
    }

    .md-toc-content::after, .md-toc::after {
        display: none;
    }

    .md-toc-item {
        display: block;
        color: rgb(65, 131, 196);
    }

    .md-toc-item a {
        text-decoration: none;
    }

    .md-toc-inner:hover {
        text-decoration: underline;
    }

    .md-toc-inner {
        display: inline-block;
        cursor: pointer;
    }

    .md-toc-h1 .md-toc-inner {
        margin-left: 0px;
        font-weight: 700;
    }

    .md-toc-h2 .md-toc-inner {
        margin-left: 2em;
    }

    .md-toc-h3 .md-toc-inner {
        margin-left: 4em;
    }

    .md-toc-h4 .md-toc-inner {
        margin-left: 6em;
    }

    .md-toc-h5 .md-toc-inner {
        margin-left: 8em;
    }

    .md-toc-h6 .md-toc-inner {
        margin-left: 10em;
    }

    @media screen and (max-width: 48em) {
        .md-toc-h3 .md-toc-inner {
            margin-left: 3.5em;
        }

        .md-toc-h4 .md-toc-inner {
            margin-left: 5em;
        }

        .md-toc-h5 .md-toc-inner {
            margin-left: 6.5em;
        }

        .md-toc-h6 .md-toc-inner {
            margin-left: 8em;
        }
    }

    a.md-toc-inner {
        font-size: inherit;
        font-style: inherit;
        font-weight: inherit;
        line-height: inherit;
    }

    .footnote-line a:not(.reversefootnote) {
        color: inherit;
    }

    .md-attr {
        display: none;
    }

    .md-fn-count::after {
        content: ".";
    }

    code, pre, samp, tt {
        font-family: var(--monospace);
    }

    kbd {
        margin: 0px 0.1em;
        padding: 0.1em 0.6em;
        font-size: 0.8em;
        color: rgb(36, 39, 41);
        background: rgb(255, 255, 255);
        border: 1px solid rgb(173, 179, 185);
        border-radius: 3px;
        box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset;
        white-space: nowrap;
        vertical-align: middle;
    }

    .md-comment {
        color: rgb(162, 127, 3);
        opacity: 0.6;
        font-family: var(--monospace);
    }

    code {
        text-align: left;
        vertical-align: initial;
    }

    a.md-print-anchor {
        white-space: pre !important;
        border-width: initial !important;
        border-style: none !important;
        border-color: initial !important;
        display: inline-block !important;
        position: absolute !important;
        width: 1px !important;
        right: 0px !important;
        outline: 0px !important;
        background: 0px 0px !important;
        text-decoration: initial !important;
        text-shadow: initial !important;
    }

    .os-windows.monocolor-emoji .md-emoji {
        font-family: "Segoe UI Symbol", sans-serif;
    }

    .md-diagram-panel > svg {
        max-width: 100%;
    }

    [lang="flow"] svg, [lang="mermaid"] svg {
        max-width: 100%;
        height: auto;
    }

    [lang="mermaid"] .node text {
        font-size: 1rem;
    }

    table tr th {
        border-bottom: 0px;
    }

    video {
        max-width: 100%;
        display: block;
        margin: 0px auto;
    }

    iframe {
        max-width: 100%;
        width: 100%;
        border: none;
    }

    .highlight td, .highlight tr {
        border: 0px;
    }

    mark {
        background: rgb(255, 255, 0);
        color: rgb(0, 0, 0);
    }

    .md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong {
        color: inherit;
    }

    .md-expand mark .md-meta {
        opacity: 0.3 !important;
    }

    mark .md-meta {
        color: rgb(0, 0, 0);
    }

    @media print {
        .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 {
            break-inside: avoid;
        }
    }

    .md-diagram-panel .messageText {
        stroke: none !important;
    }

    .md-diagram-panel .start-state {
        fill: var(--node-fill);
    }

    .md-diagram-panel .edgeLabel rect {
        opacity: 1 !important;
    }

    .md-fences.md-fences-math {
        font-size: 1em;
    }

    .md-fences-advanced:not(.md-focus) {
        padding: 0px;
        white-space: nowrap;
        border: 0px;
    }

    .md-fences-advanced:not(.md-focus) {
        background: inherit;
    }

    .typora-export-show-outline .typora-export-content {
        max-width: 1440px;
        margin: auto;
        display: flex;
        flex-direction: row;
    }

    .typora-export-sidebar {
        width: 300px;
        font-size: 0.8rem;
        margin-top: 80px;
        margin-right: 18px;
    }

    .typora-export-show-outline #write {
        --webkit-flex: 2;
        flex: 2 1 0%;
    }

    .typora-export-sidebar .outline-content {
        position: fixed;
        top: 0px;
        max-height: 100%;
        overflow: hidden auto;
        padding-bottom: 30px;
        padding-top: 60px;
        width: 300px;
    }

    @media screen and (max-width: 1024px) {
        .typora-export-sidebar, .typora-export-sidebar .outline-content {
            width: 240px;
        }
    }

    @media screen and (max-width: 800px) {
        .typora-export-sidebar {
            display: none;
        }
    }

    .outline-content li, .outline-content ul {
        margin-left: 0px;
        margin-right: 0px;
        padding-left: 0px;
        padding-right: 0px;
        list-style: none;
    }

    .outline-content ul {
        margin-top: 0px;
        margin-bottom: 0px;
    }

    .outline-content strong {
        font-weight: 400;
    }

    .outline-expander {
        width: 1rem;
        height: 1.42857rem;
        position: relative;
        display: table-cell;
        vertical-align: middle;
        cursor: pointer;
        padding-left: 4px;
    }

    .outline-expander::before {
        content: "";
        position: relative;
        font-family: Ionicons;
        display: inline-block;
        font-size: 8px;
        vertical-align: middle;
    }

    .outline-item {
        padding-top: 3px;
        padding-bottom: 3px;
        cursor: pointer;
    }

    .outline-expander:hover::before {
        content: "";
    }

    .outline-h1 > .outline-item {
        padding-left: 0px;
    }

    .outline-h2 > .outline-item {
        padding-left: 1em;
    }

    .outline-h3 > .outline-item {
        padding-left: 2em;
    }

    .outline-h4 > .outline-item {
        padding-left: 3em;
    }

    .outline-h5 > .outline-item {
        padding-left: 4em;
    }

    .outline-h6 > .outline-item {
        padding-left: 5em;
    }

    .outline-label {
        cursor: pointer;
        display: table-cell;
        vertical-align: middle;
        text-decoration: none;
        color: inherit;
    }

    .outline-label:hover {
        text-decoration: underline;
    }

    .outline-item:hover {
        border-color: rgb(245, 245, 245);
        background-color: var(--item-hover-bg-color);
    }

    .outline-item:hover {
        margin-left: -28px;
        margin-right: -28px;
        border-left: 28px solid transparent;
        border-right: 28px solid transparent;
    }

    .outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before {
        display: none;
    }

    .outline-item-open > .outline-item > .outline-expander::before {
        content: "";
    }

    .outline-children {
        display: none;
    }

    .info-panel-tab-wrapper {
        display: none;
    }

    .outline-item-open > .outline-children {
        display: block;
    }

    .typora-export .outline-item {
        padding-top: 1px;
        padding-bottom: 1px;
    }

    .typora-export .outline-item:hover {
        margin-right: -8px;
        border-right: 8px solid transparent;
    }

    .typora-export .outline-expander::before {
        content: "+";
        font-family: inherit;
        top: -1px;
    }

    .typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before {
        content: "−";
    }

    .typora-export-collapse-outline .outline-children {
        display: none;
    }

    .typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children {
        display: block;
    }

    .typora-export-no-collapse-outline .outline-expander::before {
        content: "" !important;
    }

    .typora-export-show-outline .outline-item-active > .outline-item .outline-label {
        font-weight: 700;
    }

    .md-inline-math-container mjx-container {
        zoom: 0.95;
    }


    .CodeMirror {
        height: auto;
    }

    .CodeMirror.cm-s-inner {
        background: inherit;
    }

    .CodeMirror-scroll {
        overflow: auto hidden;
        z-index: 3;
    }

    .CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler {
        background-color: rgb(255, 255, 255);
    }

    .CodeMirror-gutters {
        border-right: 1px solid rgb(221, 221, 221);
        background: inherit;
        white-space: nowrap;
    }

    .CodeMirror-linenumber {
        padding: 0px 3px 0px 5px;
        text-align: right;
        color: rgb(153, 153, 153);
    }

    .cm-s-inner .cm-keyword {
        color: rgb(119, 0, 136);
    }

    .cm-s-inner .cm-atom, .cm-s-inner.cm-atom {
        color: rgb(34, 17, 153);
    }

    .cm-s-inner .cm-number {
        color: rgb(17, 102, 68);
    }

    .cm-s-inner .cm-def {
        color: rgb(0, 0, 255);
    }

    .cm-s-inner .cm-variable {
        color: rgb(0, 0, 0);
    }

    .cm-s-inner .cm-variable-2 {
        color: rgb(0, 85, 170);
    }

    .cm-s-inner .cm-variable-3 {
        color: rgb(0, 136, 85);
    }

    .cm-s-inner .cm-string {
        color: rgb(170, 17, 17);
    }

    .cm-s-inner .cm-property {
        color: rgb(0, 0, 0);
    }

    .cm-s-inner .cm-operator {
        color: rgb(152, 26, 26);
    }

    .cm-s-inner .cm-comment, .cm-s-inner.cm-comment {
        color: rgb(170, 85, 0);
    }

    .cm-s-inner .cm-string-2 {
        color: rgb(255, 85, 0);
    }

    .cm-s-inner .cm-meta {
        color: rgb(85, 85, 85);
    }

    .cm-s-inner .cm-qualifier {
        color: rgb(85, 85, 85);
    }

    .cm-s-inner .cm-builtin {
        color: rgb(51, 0, 170);
    }

    .cm-s-inner .cm-bracket {
        color: rgb(153, 153, 119);
    }

    .cm-s-inner .cm-tag {
        color: rgb(17, 119, 0);
    }

    .cm-s-inner .cm-attribute {
        color: rgb(0, 0, 204);
    }

    .cm-s-inner .cm-header, .cm-s-inner.cm-header {
        color: rgb(0, 0, 255);
    }

    .cm-s-inner .cm-quote, .cm-s-inner.cm-quote {
        color: rgb(0, 153, 0);
    }

    .cm-s-inner .cm-hr, .cm-s-inner.cm-hr {
        color: rgb(153, 153, 153);
    }

    .cm-s-inner .cm-link, .cm-s-inner.cm-link {
        color: rgb(0, 0, 204);
    }

    .cm-negative {
        color: rgb(221, 68, 68);
    }

    .cm-positive {
        color: rgb(34, 153, 34);
    }

    .cm-header, .cm-strong {
        font-weight: 700;
    }

    .cm-del {
        text-decoration: line-through;
    }

    .cm-em {
        font-style: italic;
    }

    .cm-link {
        text-decoration: underline;
    }

    .cm-error {
        color: red;
    }

    .cm-invalidchar {
        color: red;
    }

    .cm-constant {
        color: rgb(38, 139, 210);
    }

    .cm-defined {
        color: rgb(181, 137, 0);
    }

    div.CodeMirror span.CodeMirror-matchingbracket {
        color: rgb(0, 255, 0);
    }

    div.CodeMirror span.CodeMirror-nonmatchingbracket {
        color: rgb(255, 34, 34);
    }

    .cm-s-inner .CodeMirror-activeline-background {
        background: inherit;
    }

    .CodeMirror {
        position: relative;
        overflow: hidden;
    }

    .CodeMirror-scroll {
        height: 100%;
        outline: 0px;
        position: relative;
        box-sizing: content-box;
        background: inherit;
    }

    .CodeMirror-sizer {
        position: relative;
    }

    .CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar {
        position: absolute;
        z-index: 6;
        display: none;
        outline: 0px;
    }

    .CodeMirror-vscrollbar {
        right: 0px;
        top: 0px;
        overflow: hidden;
    }

    .CodeMirror-hscrollbar {
        bottom: 0px;
        left: 0px;
        overflow: auto hidden;
    }

    .CodeMirror-scrollbar-filler {
        right: 0px;
        bottom: 0px;
    }

    .CodeMirror-gutter-filler {
        left: 0px;
        bottom: 0px;
    }

    .CodeMirror-gutters {
        position: absolute;
        left: 0px;
        top: 0px;
        padding-bottom: 10px;
        z-index: 3;
        overflow-y: hidden;
    }

    .CodeMirror-gutter {
        white-space: normal;
        height: 100%;
        box-sizing: content-box;
        padding-bottom: 30px;
        margin-bottom: -32px;
        display: inline-block;
    }

    .CodeMirror-gutter-wrapper {
        position: absolute;
        z-index: 4;
        background: 0px 0px !important;
        border: none !important;
    }

    .CodeMirror-gutter-background {
        position: absolute;
        top: 0px;
        bottom: 0px;
        z-index: 4;
    }

    .CodeMirror-gutter-elt {
        position: absolute;
        cursor: default;
        z-index: 4;
    }

    .CodeMirror-lines {
        cursor: text;
    }

    .CodeMirror pre {
        border-radius: 0px;
        border-width: 0px;
        background: 0px 0px;
        font-family: inherit;
        font-size: inherit;
        margin: 0px;
        white-space: pre;
        overflow-wrap: normal;
        color: inherit;
        z-index: 2;
        position: relative;
        overflow: visible;
    }

    .CodeMirror-wrap pre {
        overflow-wrap: break-word;
        white-space: pre-wrap;
        word-break: normal;
    }

    .CodeMirror-code pre {
        border-right: 30px solid transparent;
        width: fit-content;
    }

    .CodeMirror-wrap .CodeMirror-code pre {
        border-right: none;
        width: auto;
    }

    .CodeMirror-linebackground {
        position: absolute;
        inset: 0px;
        z-index: 0;
    }

    .CodeMirror-linewidget {
        position: relative;
        z-index: 2;
        overflow: auto;
    }

    .CodeMirror-wrap .CodeMirror-scroll {
        overflow-x: hidden;
    }

    .CodeMirror-measure {
        position: absolute;
        width: 100%;
        height: 0px;
        overflow: hidden;
        visibility: hidden;
    }

    .CodeMirror-measure pre {
        position: static;
    }

    .CodeMirror div.CodeMirror-cursor {
        position: absolute;
        visibility: hidden;
        border-right: none;
        width: 0px;
    }

    .CodeMirror div.CodeMirror-cursor {
        visibility: hidden;
    }

    .CodeMirror-focused div.CodeMirror-cursor {
        visibility: inherit;
    }

    .cm-searching {
        background: rgba(255, 255, 0, 0.4);
    }

    span.cm-underlined {
        text-decoration: underline;
    }

    span.cm-strikethrough {
        text-decoration: line-through;
    }

    .cm-tw-syntaxerror {
        color: rgb(255, 255, 255);
        background-color: rgb(153, 0, 0);
    }

    .cm-tw-deleted {
        text-decoration: line-through;
    }

    .cm-tw-header5 {
        font-weight: 700;
    }

    .cm-tw-listitem:first-child {
        padding-left: 10px;
    }

    .cm-tw-box {
        border-style: solid;
        border-right-width: 1px;
        border-bottom-width: 1px;
        border-left-width: 1px;
        border-color: inherit;
        border-top-width: 0px !important;
    }

    .cm-tw-underline {
        text-decoration: underline;
    }

    @media print {
        .CodeMirror div.CodeMirror-cursor {
            visibility: hidden;
        }
    }


    :root {
        --side-bar-bg-color: #fafafa;
        --control-text-color: #777;
    }

    @include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

    /* open-sans-regular - latin-ext_latin */
    /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
    html {
        font-size: 16px;
        -webkit-font-smoothing: antialiased;
    }

    body {
        font-family: "Open Sans", "Clear Sans", "Helvetica Neue", Helvetica, Arial, 'Segoe UI Emoji', sans-serif;
        color: rgb(51, 51, 51);
        line-height: 1.6;
    }

    #write {
        max-width: 860px;
        margin: 0 auto;
        padding: 30px;
        padding-bottom: 100px;
    }

    @media only screen and (min-width: 1400px) {
        #write {
            max-width: 1024px;
        }
    }

    @media only screen and (min-width: 1800px) {
        #write {
            max-width: 1200px;
        }
    }

    #write > ul:first-child,
    #write > ol:first-child {
        margin-top: 30px;
    }

    a {
        color: #4183C4;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        position: relative;
        margin-top: 1rem;
        margin-bottom: 1rem;
        font-weight: bold;
        line-height: 1.4;
        cursor: text;
    }

    h1:hover a.anchor,
    h2:hover a.anchor,
    h3:hover a.anchor,
    h4:hover a.anchor,
    h5:hover a.anchor,
    h6:hover a.anchor {
        text-decoration: none;
    }

    h1 tt,
    h1 code {
        font-size: inherit;
    }

    h2 tt,
    h2 code {
        font-size: inherit;
    }

    h3 tt,
    h3 code {
        font-size: inherit;
    }

    h4 tt,
    h4 code {
        font-size: inherit;
    }

    h5 tt,
    h5 code {
        font-size: inherit;
    }

    h6 tt,
    h6 code {
        font-size: inherit;
    }

    h1 {
        font-size: 2.25em;
        line-height: 1.2;
        border-bottom: 1px solid #eee;
    }

    h2 {
        font-size: 1.75em;
        line-height: 1.225;
        border-bottom: 1px solid #eee;
    }

    /*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

    h3 {
        font-size: 1.5em;
        line-height: 1.43;
    }

    h4 {
        font-size: 1.25em;
    }

    h5 {
        font-size: 1em;
    }

    h6 {
        font-size: 1em;
        color: #777;
    }

    p,
    blockquote,
    ul,
    ol,
    dl,
    table {
        margin: 0.8em 0;
    }

    li > ol,
    li > ul {
        margin: 0 0;
    }

    hr {
        height: 2px;
        padding: 0;
        margin: 16px 0;
        background-color: #e7e7e7;
        border: 0 none;
        overflow: hidden;
        box-sizing: content-box;
    }

    li p.first {
        display: inline-block;
    }

    ul,
    ol {
        padding-left: 30px;
    }

    ul:first-child,
    ol:first-child {
        margin-top: 0;
    }

    ul:last-child,
    ol:last-child {
        margin-bottom: 0;
    }

    blockquote {
        border-left: 4px solid #dfe2e5;
        padding: 0 15px;
        color: #777777;
    }

    blockquote blockquote {
        padding-right: 0;
    }

    table {
        padding: 0;
        word-break: initial;
    }

    table tr {
        border: 1px solid #dfe2e5;
        margin: 0;
        padding: 0;
    }

    table tr:nth-child(2n),
    thead {
        background-color: #f8f8f8;
    }

    table th {
        font-weight: bold;
        border: 1px solid #dfe2e5;
        border-bottom: 0;
        margin: 0;
        padding: 6px 13px;
    }

    table td {
        border: 1px solid #dfe2e5;
        margin: 0;
        padding: 6px 13px;
    }

    table th:first-child,
    table td:first-child {
        margin-top: 0;
    }

    table th:last-child,
    table td:last-child {
        margin-bottom: 0;
    }

    .CodeMirror-lines {
        padding-left: 4px;
    }

    .code-tooltip {
        box-shadow: 0 1px 1px 0 rgba(0, 28, 36, .3);
        border-top: 1px solid #eef2f2;
    }

    .md-fences,
    code,
    tt {
        border: 1px solid #e7eaed;
        background-color: #f8f8f8;
        border-radius: 3px;
        padding: 0;
        padding: 2px 4px 0px 4px;
        font-size: 0.9em;
    }

    code {
        background-color: #f3f4f4;
        padding: 0 2px 0 2px;
    }

    .md-fences {
        margin-bottom: 15px;
        margin-top: 15px;
        padding-top: 8px;
        padding-bottom: 6px;
    }


    .md-task-list-item > input {
        margin-left: -1.3em;
    }

    @media print {
        html {
            font-size: 13px;
        }

        table,
        pre {
            page-break-inside: avoid;
        }

        pre {
            word-wrap: break-word;
        }
    }

    .md-fences {
        background-color: #f8f8f8;
    }

    #write pre.md-meta-block {
        padding: 1rem;
        font-size: 85%;
        line-height: 1.45;
        background-color: #f7f7f7;
        border: 0;
        border-radius: 3px;
        color: #777777;
        margin-top: 0 !important;
    }

    .mathjax-block > .code-tooltip {
        bottom: .375rem;
    }

    .md-mathjax-midline {
        background: #fafafa;
    }

    #write > h3.md-focus:before {
        left: -1.5625rem;
        top: .375rem;
    }

    #write > h4.md-focus:before {
        left: -1.5625rem;
        top: .285714286rem;
    }

    #write > h5.md-focus:before {
        left: -1.5625rem;
        top: .285714286rem;
    }

    #write > h6.md-focus:before {
        left: -1.5625rem;
        top: .285714286rem;
    }

    .md-image > .md-meta {
        /*border: 1px solid #ddd;*/
        border-radius: 3px;
        padding: 2px 0px 0px 4px;
        font-size: 0.9em;
        color: inherit;
    }

    .md-tag {
        color: #a7a7a7;
        opacity: 1;
    }

    .md-toc {
        margin-top: 20px;
        padding-bottom: 20px;
    }

    .sidebar-tabs {
        border-bottom: none;
    }

    #typora-quick-open {
        border: 1px solid #ddd;
        background-color: #f8f8f8;
    }

    #typora-quick-open-item {
        background-color: #FAFAFA;
        border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
        border-style: solid;
        border-width: 1px;
    }

    /** focus mode */
    .on-focus-mode blockquote {
        border-left-color: rgba(85, 85, 85, 0.12);
    }

    header, .context-menu, .megamenu-content, footer {
        font-family: "Segoe UI", "Arial", sans-serif;
    }

    .file-node-content:hover .file-node-icon,
    .file-node-content:hover .file-node-open-state {
        visibility: visible;
    }

    .mac-seamless-mode #typora-sidebar {
        background-color: #fafafa;
        background-color: var(--side-bar-bg-color);
    }

    .md-lang {
        color: #b4654d;
    }

    /*.html-for-mac {
    --item-hover-bg-color: #E6F0FE;
}*/

    #md-notification .btn {
        border: 0;
    }

    .dropdown-menu .divider {
        border-color: #e5e5e5;
        opacity: 0.4;
    }

    .ty-preferences .window-content {
        background-color: #fafafa;
    }

    .ty-preferences .nav-group-item.active {
        color: white;
        background: #999;
    }

    .menu-item-container a.menu-style-btn {
        background-color: #f5f8fa;
        background-image: linear-gradient(180deg, hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0));
    }


    </style>
    <title>elasticsearch实战学习笔记</title>
</head>
<body class='typora-export os-windows'>
<div class='typora-export-content'>
    <div id='write' class=''><h1 id='---elasticsearch实战学习笔记---'><span>---elasticsearch实战学习笔记---</span></h1>
        <p>&nbsp;</p>
        <hr/>
        <h1 id='初始化项目'><span>初始化项目</span></h1>
        <p><a href='https://github.com/maomao124/elasticsearch_hotel' target='_blank' class='url'>https://github.com/maomao124/elasticsearch_hotel</a>
        </p>
        <p>&nbsp;</p>
        <h2 id='maven依赖'><span>maven依赖</span></h2>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="xml"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="xml"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div
                class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div
                style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div
                class="CodeMirror-activeline" style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">dependencies</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span>org.springframework.boot<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">groupId</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">artifactId</span><span
                class="cm-tag cm-bracket">&gt;</span>spring-boot-starter-web<span class="cm-tag cm-bracket">&lt;/</span><span
                class="cm-tag">artifactId</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">&lt;!--spring boot elasticsearch high-level-client--&gt;</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span>org.elasticsearch.client<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">groupId</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">artifactId</span><span
                class="cm-tag cm-bracket">&gt;</span>elasticsearch-rest-high-level-client<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">artifactId</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">&lt;!--spring-boot mybatis-plus依赖--&gt;</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span>com.baomidou<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">groupId</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">artifactId</span><span
                class="cm-tag cm-bracket">&gt;</span>mybatis-plus-boot-starter<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">artifactId</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">version</span><span class="cm-tag cm-bracket">&gt;</span>3.5.1<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">version</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">&lt;!--mysql依赖 spring-boot--&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span>mysql<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">groupId</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">artifactId</span><span
                class="cm-tag cm-bracket">&gt;</span>mysql-connector-java<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">artifactId</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">scope</span><span class="cm-tag cm-bracket">&gt;</span>runtime<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">scope</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">&lt;!--spring-boot lombok--&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                                           role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span>org.projectlombok<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">groupId</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">artifactId</span><span
                class="cm-tag cm-bracket">&gt;</span>lombok<span class="cm-tag cm-bracket">&lt;/</span><span
                class="cm-tag">artifactId</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">optional</span><span
                class="cm-tag cm-bracket">&gt;</span>true<span class="cm-tag cm-bracket">&lt;/</span><span
                class="cm-tag">optional</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">&lt;!--阿里巴巴的FastJson json解析--&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span>com.alibaba<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">groupId</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">artifactId</span><span
                class="cm-tag cm-bracket">&gt;</span>fastjson<span class="cm-tag cm-bracket">&lt;/</span><span
                class="cm-tag">artifactId</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">version</span><span class="cm-tag cm-bracket">&gt;</span>1.2.79<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">version</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">&lt;!--spring-boot 开发者工具 主要用于热部署--&gt;</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span>org.springframework.boot<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">groupId</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">artifactId</span><span
                class="cm-tag cm-bracket">&gt;</span>spring-boot-devtools<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">artifactId</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">optional</span><span
                class="cm-tag cm-bracket">&gt;</span>true<span class="cm-tag cm-bracket">&lt;/</span><span
                class="cm-tag">optional</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">&lt;!--spring-boot druid连接池依赖--&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span>com.alibaba<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">groupId</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">artifactId</span><span
                class="cm-tag cm-bracket">&gt;</span>druid-spring-boot-starter<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">artifactId</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">version</span><span class="cm-tag cm-bracket">&gt;</span>1.2.8<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">version</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span>org.springframework.boot<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">groupId</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">artifactId</span><span
                class="cm-tag cm-bracket">&gt;</span>spring-boot-starter-test<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">artifactId</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">scope</span><span class="cm-tag cm-bracket">&gt;</span>test<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">scope</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">dependency</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">dependencies</span><span
                class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1242px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 1242px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <h2 id='配置'><span>配置</span></h2>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <p><span>设置端口号为8089</span></p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="yaml"><div
                class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="yaml"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline"
                                                                 style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span class="cm-atom">server</span><span
                class="cm-meta">:</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  port</span><span
                class="cm-meta">: </span><span class="cm-number">8089</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p><span>配置数据源</span></p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="yaml"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="yaml"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span
                class="cm-comment"># 导入jdbc.properties文件</span></span></pre></div><pre class=" CodeMirror-line "
                                                                                       role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  config</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp;  import</span><span
                class="cm-meta">: </span>classpath<span class="cm-meta">:</span>jdbc.properties</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment"># 配置数据源</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  datasource</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment"># driver-class-name: ${jdbc.driver}</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment"># url: ${jdbc.url}</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment"># username: ${jdbc.username}</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment"># password: ${jdbc.password}</span></span></pre><pre class=" CodeMirror-line "
                                                                                        role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment"># 配置数据源-druid</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                class="cm-atom"> &nbsp;  druid</span><span class="cm-meta">:</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp;  driver-class-name</span><span
                class="cm-meta">: </span>$<span class="cm-meta">{</span>jdbc.driver<span class="cm-meta">}</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp;  url</span><span
                class="cm-meta">: </span>$<span class="cm-meta">{</span>jdbc.url<span
                class="cm-meta">}</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span
                class="cm-atom"> &nbsp; &nbsp;  username</span><span class="cm-meta">: </span>$<span
                class="cm-meta">{</span>jdbc.username<span class="cm-meta">}</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp;  password</span><span
                class="cm-meta">: </span>$<span class="cm-meta">{</span>jdbc.password<span
                class="cm-meta">}</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 345px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 345px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p><span>所有配置</span></p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="yaml"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="yaml"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                                   style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">#多环境开发---单文件</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"><span
                class="cm-atom">spring</span><span class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line "
                                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  profiles</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment"># 当前环境</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp;  active</span><span
                class="cm-meta">: </span>dev</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">#-----通用环境---------------------------------------------------------</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp;<span
                class="cm-comment"># 导入jdbc.properties文件</span></span></pre><pre class=" CodeMirror-line "
                                                                                 role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  config</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp;  import</span><span
                class="cm-meta">: </span>classpath<span class="cm-meta">:</span>jdbc.properties</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp;<span
                class="cm-comment">#spring-mvc配置</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                class="cm-atom">  mvc</span><span class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment"># 视图解析器</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp;  view</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span
                class="cm-atom"> &nbsp; &nbsp;  prefix</span><span class="cm-meta">:</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp;  suffix</span><span
                class="cm-meta">: </span>.html</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-atom">server</span><span class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line "
                                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  port</span><span
                class="cm-meta">: </span><span class="cm-number">8089</span></span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-def">---</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#------开发环境--------------------------------------------------------</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-atom">spring</span><span class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line "
                                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  config</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp;  activate</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span
                class="cm-atom"> &nbsp; &nbsp;  on-profile</span><span class="cm-meta">: </span>dev</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp;<span
                class="cm-comment"># 配置数据源</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  datasource</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment"># driver-class-name: ${jdbc.driver}</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment"># url: ${jdbc.url}</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment"># username: ${jdbc.username}</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment"># password: ${jdbc.password}</span></span></pre><pre class=" CodeMirror-line "
                                                                                        role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment"># 配置数据源-druid</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                class="cm-atom"> &nbsp;  druid</span><span class="cm-meta">:</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp;  driver-class-name</span><span
                class="cm-meta">: </span>$<span class="cm-meta">{</span>jdbc.driver<span class="cm-meta">}</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp;  url</span><span
                class="cm-meta">: </span>$<span class="cm-meta">{</span>jdbc.url<span
                class="cm-meta">}</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span
                class="cm-atom"> &nbsp; &nbsp;  username</span><span class="cm-meta">: </span>$<span
                class="cm-meta">{</span>jdbc.username<span class="cm-meta">}</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp;  password</span><span
                class="cm-meta">: </span>$<span class="cm-meta">{</span>jdbc.password<span
                class="cm-meta">}</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp;<span
                class="cm-comment"># 关于热部署</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  devtools</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp;  restart</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-comment"># 热部署开关</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span
                class="cm-atom"> &nbsp; &nbsp;  enabled</span><span class="cm-meta">: </span><span class="cm-keyword">true</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-comment"># 自定义不参与重启排除项</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                class="cm-atom"> &nbsp; &nbsp;  exclude</span><span class="cm-meta">: </span>public/**,static/**</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment"># 开启debug模式，输出调试信息，常用于检查系统运行状况</span></span></pre><pre class=" CodeMirror-line "
                                                                                          role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span
                class="cm-comment">#debug: true</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment"># 设置日志级别，root表示根节点，即整体应用日志级别</span></span></pre><pre class=" CodeMirror-line "
                                                                                        role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">logging</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment"># 日志输出到文件的文件名</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span class="cm-atom">  file</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp; name</span><span
                class="cm-meta">: </span>server.log</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;<span
                class="cm-comment"># 字符集</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  charset</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp;  file</span><span
                class="cm-meta">: </span>UTF-8</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;<span
                class="cm-comment"># 分文件</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  logback</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span
                class="cm-atom"> &nbsp;  rollingpolicy</span><span class="cm-meta">:</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">#最大文件大小</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span
                class="cm-atom"> &nbsp; &nbsp;  max-file-size</span><span class="cm-meta">: </span>16KB</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-comment"># 文件格式</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp;  file-name-pattern</span><span
                class="cm-meta">: </span>server_log-%d<span class="cm-meta">{</span>yyyy/MM月/dd日/<span
                class="cm-meta">}</span>%i.log</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment"># 设置日志组</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span class="cm-atom">  group</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;<span
                class="cm-comment"># 自定义组名，设置当前组中所包含的包</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp;  mao_pro</span><span
                class="cm-meta">: </span>mao</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  level</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp;  root</span><span
                class="cm-meta">: </span>info</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment"># 为对应组设置日志级别</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"><span
                class="cm-atom"> &nbsp;  mao_pro</span><span class="cm-meta">: </span>debug</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment"># 日志输出格式</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span
                class="cm-comment"># pattern:</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp;<span
                class="cm-comment"># console: "%d %clr(%p) --- [%16t] %clr(%-40.40c){cyan} : %m %n"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-def">---</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#----生产环境----------------------------------------------------</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-atom">spring</span><span class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line "
                                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  config</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp;  activate</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span
                class="cm-atom"> &nbsp; &nbsp;  on-profile</span><span class="cm-meta">: </span>pro</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment"># 开启debug模式，输出调试信息，常用于检查系统运行状况</span></span></pre><pre class=" CodeMirror-line "
                                                                                          role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span
                class="cm-comment">#debug: true</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment"># 设置日志级别，root表示根节点，即整体应用日志级别</span></span></pre><pre class=" CodeMirror-line "
                                                                                        role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">logging</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;<span
                class="cm-comment"># 日志输出到文件的文件名</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                class="cm-atom">  file</span><span class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line "
                                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp;  name</span><span
                class="cm-meta">: </span>server.log</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;<span
                class="cm-comment"># 字符集</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  charset</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp;  file</span><span
                class="cm-meta">: </span>UTF-8</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;<span
                class="cm-comment"># 分文件</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  logback</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span
                class="cm-atom"> &nbsp;  rollingpolicy</span><span class="cm-meta">:</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">#最大文件大小</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span
                class="cm-atom"> &nbsp; &nbsp;  max-file-size</span><span class="cm-meta">: </span>4MB</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-comment"># 文件格式</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp;  file-name-pattern</span><span
                class="cm-meta">: </span>server_log-%d<span class="cm-meta">{</span>yyyy/MM月/dd日/<span
                class="cm-meta">}</span>%i.log</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment"># 设置日志组</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span class="cm-atom">  group</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment"># 自定义组名，设置当前组中所包含的包</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp;  mao_pro</span><span
                class="cm-meta">: </span>mao</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  level</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp;  root</span><span
                class="cm-meta">: </span>info</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment"># 为对应组设置日志级别</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"><span
                class="cm-atom"> &nbsp;  mao_pro</span><span class="cm-meta">: </span>warn</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment"># 日志输出格式</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;<span
                class="cm-comment"># pattern:</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp;<span
                class="cm-comment"># console: "%d %clr(%p) --- [%16t] %clr(%-40.40c){cyan} : %m %n"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-def">---</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#----测试环境-----------------------------------------------------</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-atom">spring</span><span class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line "
                                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  config</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp;  activate</span><span
                class="cm-meta">:</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span
                class="cm-atom"> &nbsp; &nbsp;  on-profile</span><span class="cm-meta">: </span>test</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 3542px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 3542px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <h2 id='类'><span>类</span></h2>
        <p><span>ElasticSearchConfig：</span></p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">config</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span
                class="cm-variable">apache</span>.<span class="cm-variable">http</span>.<span class="cm-variable">HttpHost</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">client</span>.<span class="cm-variable">RestClient</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">client</span>.<span class="cm-variable">RestHighLevelClient</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">context</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Bean</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">context</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Configuration</span>;</span></pre><pre class=" CodeMirror-line "
                                                                           role="presentation"><span role="presentation"
                                                                                                     style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel.config</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): ElasticSearchConfig</span></span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/2</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 15:15</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Description(描述)： ElasticSearch配置</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-meta">@Configuration</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">ElasticSearchConfig</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* 创建ElasticSearch客户端</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return RestHighLevelClient</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Bean</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">RestHighLevelClient</span> <span
                class="cm-variable">restHighLevelClient</span>()</span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">RestHighLevelClient</span>(<span
                class="cm-variable">RestClient</span>.<span class="cm-variable">builder</span>(</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">new</span> <span class="cm-variable">HttpHost</span>(<span class="cm-string">"localhost"</span>, <span
                class="cm-number">9200</span>, <span class="cm-string">"http"</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  ));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 920px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 920px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p><span>创建索引的json：</span></p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">constants</span>;</span></pre></div><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel.constants</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): HotelConstants</span></span></pre><pre class=" CodeMirror-line "
                                                                                       role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/2</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 15:10</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Description(描述)： 无</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">HotelConstants</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* 创建hotel索引的json文件</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span
                class="cm-keyword">final</span> <span class="cm-variable-3">String</span> <span class="cm-variable">MAPPING_TEMPLATE</span> <span
                class="cm-operator">=</span> <span class="cm-string">"{\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">"  \"mappings\": {\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp;  \"properties\": {\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  \"id\": {\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"type\": \"keyword\"\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  },\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  \"name\": {\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"type\": \"text\",\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"analyzer\": \"ik_max_word\",\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"copy_to\": \"all\"\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  },\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  \"address\": {\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"type\": \"keyword\",\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"index\": false\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  },\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  \"price\": {\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"type\": \"integer\"\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  },\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  \"score\": {\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"type\": \"integer\"\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  },\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  \"brand\": {\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"type\": \"keyword\",\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"copy_to\": \"all\"\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  },\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  \"city\": {\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"type\": \"keyword\"\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  },\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  \"starName\": {\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"type\": \"keyword\"\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  },\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  \"business\": {\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"type\": \"keyword\",\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"copy_to\": \"all\"\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  },\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  \"pic\": {\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"type\": \"keyword\",\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"index\": false\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  },\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  \"location\": {\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"type\": \"geo_point\"\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  },\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  \"all\": {\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"type\": \"text\",\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp; &nbsp;  \"analyzer\": \"ik_max_word\"\n"</span> <span
                class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp; &nbsp;  }\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">" &nbsp;  }\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">"  }\n"</span> <span class="cm-operator">+</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">"}"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "
                                                                                     role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1633px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 1633px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <p><span>其它的略</span></p>
        <p>&nbsp;</p>
        <h2 id='创建索引'><span>创建索引</span></h2>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">hotel</span>;</span></pre></div><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">admin</span>.<span class="cm-variable">indices</span>.<span
                class="cm-variable">delete</span>.<span class="cm-variable">DeleteIndexRequest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">client</span>.<span class="cm-variable">RequestOptions</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">client</span>.<span class="cm-variable">RestHighLevelClient</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">client</span>.<span class="cm-variable">indices</span>.<span class="cm-variable">CreateIndexRequest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">client</span>.<span class="cm-variable">indices</span>.<span class="cm-variable">GetIndexRequest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">xcontent</span>.<span class="cm-variable">XContentType</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span
                class="cm-variable">junit</span>.<span class="cm-variable">jupiter</span>.<span
                class="cm-variable">api</span>.<span class="cm-variable">Test</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">beans</span>.<span class="cm-variable">factory</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Autowired</span>;</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">boot</span>.<span class="cm-variable">test</span>.<span
                class="cm-variable">context</span>.<span class="cm-variable">SpringBootTest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">io</span>.<span class="cm-variable">IOException</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-keyword">static</span> <span
                class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">constants</span>.<span class="cm-variable">HotelConstants</span>.<span
                class="cm-variable">MAPPING_TEMPLATE</span>;</span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel.hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): HotelIndexTest</span></span></pre><pre class=" CodeMirror-line "
                                                                                       role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/2</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 16:11</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Description(描述)： 文档索引操作的测试</span></span></pre><pre class=" CodeMirror-line "
                                                                                        role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">*/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-meta">@SpringBootTest</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">HotelIndexTest</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Autowired</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable">RestHighLevelClient</span> <span class="cm-variable">client</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 创建hotel索引</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @throws IOException IOException</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">testCreateIndex</span>() <span class="cm-keyword">throws</span> <span
                class="cm-variable">IOException</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备Request &nbsp; &nbsp;  PUT /hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">CreateIndexRequest</span> <span class="cm-variable">request</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">CreateIndexRequest</span>(<span
                class="cm-string">"hotel"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 2.准备请求参数</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>(<span class="cm-variable">MAPPING_TEMPLATE</span>, <span
                class="cm-variable">XContentType</span>.<span class="cm-variable">JSON</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3.发送请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">client</span>.<span
                class="cm-variable">indices</span>().<span class="cm-variable">create</span>(<span class="cm-variable">request</span>, <span
                class="cm-variable">RequestOptions</span>.<span class="cm-variable">DEFAULT</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 查询索引是否存在</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @throws IOException IOException</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">testExistsIndex</span>() <span class="cm-keyword">throws</span> <span
                class="cm-variable">IOException</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备Request</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">GetIndexRequest</span> <span
                class="cm-variable">request</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">GetIndexRequest</span>(<span class="cm-string">"hotel"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3.发送请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">boolean</span> <span class="cm-variable">isExists</span> <span
                class="cm-operator">=</span> <span class="cm-variable">client</span>.<span
                class="cm-variable">indices</span>().<span class="cm-variable">exists</span>(<span class="cm-variable">request</span>, <span
                class="cm-variable">RequestOptions</span>.<span class="cm-variable">DEFAULT</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
                class="cm-variable">println</span>(<span class="cm-variable">isExists</span> <span
                class="cm-operator">?</span> <span class="cm-string">"存在"</span> : <span class="cm-string">"不存在"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* 删除索引</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @throws IOException IOException</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">testDeleteIndex</span>() <span class="cm-keyword">throws</span> <span
                class="cm-variable">IOException</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备Request</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">DeleteIndexRequest</span> <span
                class="cm-variable">request</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">DeleteIndexRequest</span>(<span
                class="cm-string">"hotel"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 3.发送请求</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">client</span>.<span class="cm-variable">indices</span>().<span class="cm-variable">delete</span>(<span
                class="cm-variable">request</span>, <span class="cm-variable">RequestOptions</span>.<span
                class="cm-variable">DEFAULT</span>);</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1886px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 1886px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <h2 id='添加数据'><span>添加数据</span></h2>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">hotel</span>;</span></pre></div><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">alibaba</span>.<span class="cm-variable">fastjson</span>.<span class="cm-variable">JSON</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">Hotel</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">HotelDoc</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">service</span>.<span class="cm-variable">IHotelService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">bulk</span>.<span class="cm-variable">BulkRequest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">delete</span>.<span class="cm-variable">DeleteRequest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">get</span>.<span class="cm-variable">GetRequest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">get</span>.<span class="cm-variable">GetResponse</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">index</span>.<span class="cm-variable">IndexRequest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">update</span>.<span class="cm-variable">UpdateRequest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">client</span>.<span class="cm-variable">RequestOptions</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">client</span>.<span class="cm-variable">RestHighLevelClient</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">xcontent</span>.<span class="cm-variable">XContentType</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span
                class="cm-variable">junit</span>.<span class="cm-variable">jupiter</span>.<span
                class="cm-variable">api</span>.<span class="cm-variable">Test</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">beans</span>.<span class="cm-variable">factory</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Autowired</span>;</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">boot</span>.<span class="cm-variable">test</span>.<span
                class="cm-variable">context</span>.<span class="cm-variable">SpringBootTest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">io</span>.<span class="cm-variable">IOException</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">List</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel.hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): HotelDocumentTest</span></span></pre><pre class=" CodeMirror-line "
                                                                                          role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/2</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 16:09</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Description(描述)： 文档操作的测试</span></span></pre><pre class=" CodeMirror-line "
                                                                                      role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">*/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-meta">@SpringBootTest</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">HotelDocumentTest</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Autowired</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable">RestHighLevelClient</span> <span class="cm-variable">client</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Autowired</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable">IHotelService</span> <span class="cm-variable">hotelService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 测试添加一条数据</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @throws IOException IOException</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">testAddDocument</span>() <span class="cm-keyword">throws</span> <span
                class="cm-variable">IOException</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.查询数据库hotel数据</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Hotel</span> <span
                class="cm-variable">hotel</span> <span class="cm-operator">=</span> <span class="cm-variable">hotelService</span>.<span
                class="cm-variable">getById</span>(<span class="cm-number">61083L</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.转换为HotelDoc</span></span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">HotelDoc</span> <span
                class="cm-variable">hotelDoc</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">HotelDoc</span>(<span
                class="cm-variable">hotel</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 3.转JSON</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">json</span> <span
                class="cm-operator">=</span> <span class="cm-variable">JSON</span>.<span class="cm-variable">toJSONString</span>(<span
                class="cm-variable">hotelDoc</span>);</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备Request</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">IndexRequest</span> <span
                class="cm-variable">request</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">IndexRequest</span>(<span class="cm-string">"hotel"</span>).<span
                class="cm-variable">id</span>(<span class="cm-variable">hotelDoc</span>.<span
                class="cm-variable">getId</span>().<span class="cm-variable">toString</span>());</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.准备请求参数DSL，其实就是文档的JSON字符串</span></span></pre><pre class=" CodeMirror-line "
                                                                                         role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">request</span>.<span
                class="cm-variable">source</span>(<span class="cm-variable">json</span>, <span class="cm-variable">XContentType</span>.<span
                class="cm-variable">JSON</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 3.发送请求</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">client</span>.<span class="cm-variable">index</span>(<span class="cm-variable">request</span>, <span
                class="cm-variable">RequestOptions</span>.<span class="cm-variable">DEFAULT</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 获取刚才插入的数据</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @throws IOException IOException</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">testGetDocumentById</span>() <span class="cm-keyword">throws</span> <span
                class="cm-variable">IOException</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备Request &nbsp; &nbsp;  // GET /hotel/_doc/{id}</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">GetRequest</span> <span class="cm-variable">request</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                class="cm-variable">GetRequest</span>(<span class="cm-string">"hotel"</span>, <span class="cm-string">"61083"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.发送请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">GetResponse</span> <span
                class="cm-variable">response</span> <span class="cm-operator">=</span> <span
                class="cm-variable">client</span>.<span class="cm-variable">get</span>(<span
                class="cm-variable">request</span>, <span class="cm-variable">RequestOptions</span>.<span
                class="cm-variable">DEFAULT</span>);</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3.解析响应结果</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">json</span> <span
                class="cm-operator">=</span> <span class="cm-variable">response</span>.<span class="cm-variable">getSourceAsString</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">HotelDoc</span> <span class="cm-variable">hotelDoc</span> <span class="cm-operator">=</span> <span
                class="cm-variable">JSON</span>.<span class="cm-variable">parseObject</span>(<span class="cm-variable">json</span>, <span
                class="cm-variable">HotelDoc</span>.<span class="cm-keyword">class</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
                class="cm-variable">println</span>(<span class="cm-string">"hotelDoc = "</span> <span
                class="cm-operator">+</span> <span class="cm-variable">hotelDoc</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 删除刚才插入的数据</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @throws IOException IOException</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">testDeleteDocumentById</span>() <span class="cm-keyword">throws</span> <span
                class="cm-variable">IOException</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备Request &nbsp; &nbsp;  // DELETE /hotel/_doc/{id}</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">DeleteRequest</span> <span class="cm-variable">request</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                class="cm-variable">DeleteRequest</span>(<span class="cm-string">"hotel"</span>, <span
                class="cm-string">"61083"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 2.发送请求</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">client</span>.<span class="cm-variable">delete</span>(<span class="cm-variable">request</span>, <span
                class="cm-variable">RequestOptions</span>.<span class="cm-variable">DEFAULT</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 更新文档数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @throws IOException IOException</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">testUpdateById</span>() <span class="cm-keyword">throws</span> <span
                class="cm-variable">IOException</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备Request</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">UpdateRequest</span> <span
                class="cm-variable">request</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">UpdateRequest</span>(<span class="cm-string">"hotel"</span>, <span
                class="cm-string">"61083"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 2.准备参数</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">doc</span>(</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string">"price"</span>, <span class="cm-string">"870"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  );</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3.发送请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">client</span>.<span
                class="cm-variable">update</span>(<span class="cm-variable">request</span>, <span class="cm-variable">RequestOptions</span>.<span
                class="cm-variable">DEFAULT</span>);</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* 从数据库里批量插入所有数据</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @throws IOException IOException</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">testBulkRequest</span>() <span class="cm-keyword">throws</span> <span
                class="cm-variable">IOException</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 查询所有的酒店数据</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">List</span><span class="cm-operator">&lt;</span><span
                class="cm-variable">Hotel</span><span class="cm-operator">&gt;</span> <span
                class="cm-variable">list</span> <span class="cm-operator">=</span> <span class="cm-variable">hotelService</span>.<span
                class="cm-variable">list</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">System</span>.<span
                class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span
                class="cm-string">"一共："</span> <span class="cm-operator">+</span> <span class="cm-variable">list</span>.<span
                class="cm-variable">size</span>() <span class="cm-operator">+</span> <span
                class="cm-string">"条数据"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 1.准备Request</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">BulkRequest</span> <span class="cm-variable">request</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                class="cm-variable">BulkRequest</span>();</span></pre><pre class=" CodeMirror-line "
                                                                           role="presentation"><span role="presentation"
                                                                                                     style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.准备参数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span
                class="cm-variable">Hotel</span> <span class="cm-variable">hotel</span> : <span
                class="cm-variable">list</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.1.转为HotelDoc</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">HotelDoc</span> <span class="cm-variable">hotelDoc</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">HotelDoc</span>(<span
                class="cm-variable">hotel</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.2.转json</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">json</span> <span
                class="cm-operator">=</span> <span class="cm-variable">JSON</span>.<span class="cm-variable">toJSONString</span>(<span
                class="cm-variable">hotelDoc</span>);</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.3.添加请求</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">add</span>(<span
                class="cm-keyword">new</span> <span class="cm-variable">IndexRequest</span>(<span class="cm-string">"hotel"</span>).<span
                class="cm-variable">id</span>(<span class="cm-variable">hotel</span>.<span
                class="cm-variable">getId</span>().<span class="cm-variable">toString</span>()).<span
                class="cm-variable">source</span>(<span class="cm-variable">json</span>, <span class="cm-variable">XContentType</span>.<span
                class="cm-variable">JSON</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3.发送请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">client</span>.<span
                class="cm-variable">bulk</span>(<span class="cm-variable">request</span>, <span class="cm-variable">RequestOptions</span>.<span
                class="cm-variable">DEFAULT</span>);</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 3450px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 3450px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <h2 id='测试搜索'><span>测试搜索</span></h2>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">hotel</span>;</span></pre></div><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">alibaba</span>.<span class="cm-variable">fastjson</span>.<span class="cm-variable">JSON</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">HotelDoc</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">search</span>.<span class="cm-variable">SearchRequest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">search</span>.<span class="cm-variable">SearchResponse</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">client</span>.<span class="cm-variable">RequestOptions</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">client</span>.<span class="cm-variable">RestHighLevelClient</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">index</span>.<span class="cm-variable">query</span>.<span class="cm-variable">QueryBuilders</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">SearchHit</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">SearchHits</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">fetch</span>.<span class="cm-variable">subphase</span>.<span
                class="cm-variable">highlight</span>.<span class="cm-variable">HighlightBuilder</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">fetch</span>.<span class="cm-variable">subphase</span>.<span
                class="cm-variable">highlight</span>.<span class="cm-variable">HighlightField</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">sort</span>.<span class="cm-variable">SortOrder</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span
                class="cm-variable">junit</span>.<span class="cm-variable">jupiter</span>.<span
                class="cm-variable">api</span>.<span class="cm-variable">Test</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">beans</span>.<span class="cm-variable">factory</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Autowired</span>;</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">boot</span>.<span class="cm-variable">test</span>.<span
                class="cm-variable">context</span>.<span class="cm-variable">SpringBootTest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">io</span>.<span class="cm-variable">IOException</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">Map</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel.hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): HotelSearchTest</span></span></pre><pre class=" CodeMirror-line "
                                                                                        role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/2</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 16:13</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Description(描述)： 搜索测试</span></span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">*/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-meta">@SpringBootTest</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">HotelSearchTest</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Autowired</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable">RestHighLevelClient</span> <span class="cm-variable">client</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 搜索所有数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @throws IOException IOException</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">testMatchAll</span>() <span class="cm-keyword">throws</span> <span
                class="cm-variable">IOException</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备request</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">SearchRequest</span> <span
                class="cm-variable">request</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">SearchRequest</span>(<span class="cm-string">"hotel"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.准备请求参数</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">query</span>(<span
                class="cm-variable">QueryBuilders</span>.<span class="cm-variable">matchAllQuery</span>());</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3.发送请求，得到响应</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">SearchResponse</span> <span
                class="cm-variable">response</span> <span class="cm-operator">=</span> <span
                class="cm-variable">client</span>.<span class="cm-variable">search</span>(<span class="cm-variable">request</span>, <span
                class="cm-variable">RequestOptions</span>.<span class="cm-variable">DEFAULT</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.结果解析</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">handleResponse</span>(<span
                class="cm-variable">response</span>);</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 测试搜索某些数据</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @throws IOException IOException</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">testMatch</span>() <span class="cm-keyword">throws</span> <span class="cm-variable">IOException</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备request</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">SearchRequest</span> <span
                class="cm-variable">request</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">SearchRequest</span>(<span class="cm-string">"hotel"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.准备请求参数</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// request.source().query(QueryBuilders.matchQuery("all", "外滩如家"));</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">query</span>(<span
                class="cm-variable">QueryBuilders</span>.<span class="cm-variable">multiMatchQuery</span>(<span
                class="cm-string">"外滩如家"</span>, <span class="cm-string">"name"</span>, <span
                class="cm-string">"brand"</span>, <span class="cm-string">"city"</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3.发送请求，得到响应</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">SearchResponse</span> <span
                class="cm-variable">response</span> <span class="cm-operator">=</span> <span
                class="cm-variable">client</span>.<span class="cm-variable">search</span>(<span class="cm-variable">request</span>, <span
                class="cm-variable">RequestOptions</span>.<span class="cm-variable">DEFAULT</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.结果解析</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">handleResponse</span>(<span
                class="cm-variable">response</span>);</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 测试boolQuery</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @throws IOException IOException</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">testBool</span>() <span class="cm-keyword">throws</span> <span class="cm-variable">IOException</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备request</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">SearchRequest</span> <span
                class="cm-variable">request</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">SearchRequest</span>(<span class="cm-string">"hotel"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.准备请求参数</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; <span
                class="cm-comment">/*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment">BoolQueryBuilder boolQuery = QueryBuilders.boolQuery();</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.1.must</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">boolQuery.must(QueryBuilders.termQuery("city", "杭州"));</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.2.filter</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">boolQuery.filter(QueryBuilders.rangeQuery("price").lte(250));</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">query</span>(</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">QueryBuilders</span>.<span class="cm-variable">boolQuery</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">must</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">termQuery</span>(<span class="cm-string">"city"</span>, <span
                class="cm-string">"杭州"</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">filter</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">rangeQuery</span>(<span class="cm-string">"price"</span>).<span class="cm-variable">lte</span>(<span
                class="cm-number">250</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  );</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3.发送请求，得到响应</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">SearchResponse</span> <span
                class="cm-variable">response</span> <span class="cm-operator">=</span> <span
                class="cm-variable">client</span>.<span class="cm-variable">search</span>(<span class="cm-variable">request</span>, <span
                class="cm-variable">RequestOptions</span>.<span class="cm-variable">DEFAULT</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.结果解析</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">handleResponse</span>(<span
                class="cm-variable">response</span>);</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 测试排序和分页</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @throws IOException IOException</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">testSortAndPage</span>() <span class="cm-keyword">throws</span> <span
                class="cm-variable">IOException</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">int</span> <span class="cm-variable">page</span> <span
                class="cm-operator">=</span> <span class="cm-number">2</span>, <span
                class="cm-variable">size</span> <span class="cm-operator">=</span> <span
                class="cm-number">5</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备request</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">SearchRequest</span> <span
                class="cm-variable">request</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">SearchRequest</span>(<span class="cm-string">"hotel"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.准备请求参数</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.1.query</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">query</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">matchAllQuery</span>());</span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 2.2.排序sort</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">sort</span>(<span
                class="cm-string">"price"</span>, <span class="cm-variable">SortOrder</span>.<span class="cm-variable">ASC</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.3.分页 from\size</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">request</span>.<span
                class="cm-variable">source</span>().<span class="cm-variable">from</span>((<span class="cm-variable">page</span> <span
                class="cm-operator">-</span> <span class="cm-number">1</span>) <span class="cm-operator">*</span> <span
                class="cm-variable">size</span>).<span class="cm-variable">size</span>(<span
                class="cm-variable">size</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3.发送请求，得到响应</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">SearchResponse</span> <span
                class="cm-variable">response</span> <span class="cm-operator">=</span> <span
                class="cm-variable">client</span>.<span class="cm-variable">search</span>(<span class="cm-variable">request</span>, <span
                class="cm-variable">RequestOptions</span>.<span class="cm-variable">DEFAULT</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.结果解析</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">handleResponse</span>(<span
                class="cm-variable">response</span>);</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* 测试高亮</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @throws IOException IOException</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">testHighlight</span>() <span class="cm-keyword">throws</span> <span
                class="cm-variable">IOException</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备request</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">SearchRequest</span> <span
                class="cm-variable">request</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">SearchRequest</span>(<span class="cm-string">"hotel"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.准备请求参数</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.1.query</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">query</span>(<span
                class="cm-variable">QueryBuilders</span>.<span class="cm-variable">matchQuery</span>(<span
                class="cm-string">"all"</span>, <span class="cm-string">"外滩如家"</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.2.高亮</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">request</span>.<span
                class="cm-variable">source</span>().<span class="cm-variable">highlighter</span>(<span
                class="cm-keyword">new</span> <span class="cm-variable">HighlightBuilder</span>().<span
                class="cm-variable">field</span>(<span class="cm-string">"name"</span>).<span class="cm-variable">requireFieldMatch</span>(<span
                class="cm-atom">false</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 3.发送请求，得到响应</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchResponse</span> <span class="cm-variable">response</span> <span
                class="cm-operator">=</span> <span class="cm-variable">client</span>.<span
                class="cm-variable">search</span>(<span class="cm-variable">request</span>, <span class="cm-variable">RequestOptions</span>.<span
                class="cm-variable">DEFAULT</span>);</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.结果解析</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">handleResponse</span>(<span
                class="cm-variable">response</span>);</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 处理响应结果</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param response SearchResponse</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable-3">void</span> <span class="cm-variable">handleResponse</span>(<span
                class="cm-variable">SearchResponse</span> <span class="cm-variable">response</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchHits</span> <span class="cm-variable">searchHits</span> <span
                class="cm-operator">=</span> <span class="cm-variable">response</span>.<span
                class="cm-variable">getHits</span>();</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.1.总条数</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">long</span> <span class="cm-variable">total</span> <span
                class="cm-operator">=</span> <span class="cm-variable">searchHits</span>.<span class="cm-variable">getTotalHits</span>().<span
                class="cm-variable">value</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">System</span>.<span
                class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span
                class="cm-string">"总条数："</span> <span class="cm-operator">+</span> <span
                class="cm-variable">total</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 4.2.获取文档数组</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchHit</span>[] <span class="cm-variable">hits</span> <span
                class="cm-operator">=</span> <span class="cm-variable">searchHits</span>.<span class="cm-variable">getHits</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.3.遍历</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span
                class="cm-variable">SearchHit</span> <span class="cm-variable">hit</span> : <span class="cm-variable">hits</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.4.获取source</span></span></pre><pre class=" CodeMirror-line "
                                                                           role="presentation"><span role="presentation"
                                                                                                     style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">json</span> <span
                class="cm-operator">=</span> <span class="cm-variable">hit</span>.<span class="cm-variable">getSourceAsString</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.5.反序列化，非高亮的</span></span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">HotelDoc</span> <span class="cm-variable">hotelDoc</span> <span class="cm-operator">=</span> <span
                class="cm-variable">JSON</span>.<span class="cm-variable">parseObject</span>(<span class="cm-variable">json</span>, <span
                class="cm-variable">HotelDoc</span>.<span class="cm-keyword">class</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.6.处理高亮结果</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1)获取高亮map</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span
                class="cm-variable-3">String</span>, <span class="cm-variable">HighlightField</span><span
                class="cm-operator">&gt;</span> <span class="cm-variable">map</span> <span class="cm-operator">=</span> <span
                class="cm-variable">hit</span>.<span class="cm-variable">getHighlightFields</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2）根据字段名，获取高亮结果</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">HighlightField</span> <span class="cm-variable">highlightField</span> <span
                class="cm-operator">=</span> <span class="cm-variable">map</span>.<span
                class="cm-variable">get</span>(<span class="cm-string">"name"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">highlightField</span> <span class="cm-operator">!=</span> <span
                class="cm-atom">null</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3）获取高亮结果字符串数组中的第1个元素</span></span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">hName</span> <span
                class="cm-operator">=</span> <span class="cm-variable">highlightField</span>.<span class="cm-variable">getFragments</span>()[<span
                class="cm-number">0</span>].<span class="cm-variable">toString</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4）把高亮结果放到HotelDoc中</span></span></pre><pre class=" CodeMirror-line "
                                                                                 role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">hotelDoc</span>.<span class="cm-variable">setName</span>(<span class="cm-variable">hName</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.7.打印</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
                class="cm-variable">println</span>(<span class="cm-variable">hotelDoc</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 4439px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 4439px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <h1 id='搜索和分页'><span>搜索和分页</span></h1>
        <ul>
            <li><p><span>请求方式：POST</span></p></li>
            <li><p><span>请求路径：/hotel/list</span></p></li>
            <li><p><span>请求参数：JSON对象，包含4个字段：</span></p>
                <ul>
                    <li><span>key：搜索关键字</span></li>
                    <li><span>page：页码</span></li>
                    <li><span>size：每页大小</span></li>
                    <li><span>sortBy：排序，目前暂不实现</span></li>
                </ul>
            </li>
            <li><p><span>返回值：分页查询，需要返回分页结果PageResult，包含两个属性：</span></p>
                <ul>
                    <li><code>total</code><span>：总条数</span></li>
                    <li><code>List&lt;HotelDoc&gt;</code><span>：当前页的数据</span></li>
                </ul>
            </li>
        </ul>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <h2 id='实体类'><span>实体类</span></h2>
        <p><span>前端请求的json结构如下：</span></p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="json"><div
                class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="json"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-string cm-property">"key"</span>: <span class="cm-string">"搜索关键字"</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-string cm-property">"page"</span>: <span class="cm-number">1</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-string cm-property">"size"</span>: <span class="cm-number">3</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-string cm-property">"sortBy"</span>: <span class="cm-string">"default"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 138px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p><span>定义一个实体类 RequestParams：</span></p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel.entity</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): RequestParams</span></span></pre><pre class=" CodeMirror-line "
                                                                                      role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/2</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 15:07</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Description(描述)： 请求参数实体类</span></span></pre><pre class=" CodeMirror-line "
                                                                                      role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">*/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">RequestParams</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">private</span> <span class="cm-variable-3">String</span> <span class="cm-variable">key</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">private</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">page</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">private</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">size</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">private</span> <span class="cm-variable-3">String</span> <span class="cm-variable">sortBy</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">private</span> <span class="cm-variable-3">String</span> <span class="cm-variable">brand</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">private</span> <span class="cm-variable-3">String</span> <span class="cm-variable">city</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">private</span> <span class="cm-variable-3">String</span> <span class="cm-variable">starName</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">private</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">minPrice</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">private</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">maxPrice</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">private</span> <span class="cm-variable-3">String</span> <span class="cm-variable">location</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* Instantiates a new Request params.</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">RequestParams</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* Instantiates a new Request params.</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param key &nbsp; &nbsp;  the key</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @param page &nbsp; &nbsp; the page</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @param size &nbsp; &nbsp; the size</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @param sortBy &nbsp; the sort by</span></span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param brand &nbsp;  the brand</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @param city &nbsp; &nbsp; the city</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @param starName the star name</span></span></pre><pre class=" CodeMirror-line "
                                                                                           role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param minPrice the min price</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @param maxPrice the max price</span></span></pre><pre class=" CodeMirror-line "
                                                                                           role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param location the location</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">RequestParams</span>(<span
                class="cm-variable-3">String</span> <span class="cm-variable">key</span>, <span class="cm-variable-3">Integer</span> <span
                class="cm-variable">page</span>, <span class="cm-variable-3">Integer</span> <span class="cm-variable">size</span>, <span
                class="cm-variable-3">String</span> <span class="cm-variable">sortBy</span>, <span
                class="cm-variable-3">String</span> <span class="cm-variable">brand</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span
                class="cm-variable-3">String</span> <span class="cm-variable">city</span>, <span class="cm-variable-3">String</span> <span
                class="cm-variable">starName</span>, <span class="cm-variable-3">Integer</span> <span
                class="cm-variable">minPrice</span>, <span class="cm-variable-3">Integer</span> <span
                class="cm-variable">maxPrice</span>, <span class="cm-variable-3">String</span> <span
                class="cm-variable">location</span>)</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">key</span> <span
                class="cm-operator">=</span> <span class="cm-variable">key</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">page</span> <span class="cm-operator">=</span> <span
                class="cm-variable">page</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span
                class="cm-variable">size</span> <span class="cm-operator">=</span> <span class="cm-variable">size</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">sortBy</span> <span
                class="cm-operator">=</span> <span class="cm-variable">sortBy</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">brand</span> <span class="cm-operator">=</span> <span
                class="cm-variable">brand</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span
                class="cm-variable">city</span> <span class="cm-operator">=</span> <span class="cm-variable">city</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">starName</span> <span
                class="cm-operator">=</span> <span class="cm-variable">starName</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">minPrice</span> <span
                class="cm-operator">=</span> <span class="cm-variable">minPrice</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">maxPrice</span> <span
                class="cm-operator">=</span> <span class="cm-variable">maxPrice</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">location</span> <span
                class="cm-operator">=</span> <span class="cm-variable">location</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* Gets key.</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return the key</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">String</span> <span class="cm-variable">getKey</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">key</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* Sets key.</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param key the key</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">setKey</span>(<span
                class="cm-variable-3">String</span> <span class="cm-variable">key</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">key</span> <span
                class="cm-operator">=</span> <span class="cm-variable">key</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* Gets page.</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return the page</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">getPage</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">page</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* Sets page.</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param page the page</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">setPage</span>(<span
                class="cm-variable-3">Integer</span> <span class="cm-variable">page</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">page</span> <span class="cm-operator">=</span> <span
                class="cm-variable">page</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* Gets size.</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return the size</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">getSize</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">size</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* Sets size.</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param size the size</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">setSize</span>(<span
                class="cm-variable-3">Integer</span> <span class="cm-variable">size</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">size</span> <span class="cm-operator">=</span> <span
                class="cm-variable">size</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* Gets sort by.</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return the sort by</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">String</span> <span class="cm-variable">getSortBy</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">sortBy</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* Sets sort by.</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param sortBy the sort by</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">setSortBy</span>(<span
                class="cm-variable-3">String</span> <span class="cm-variable">sortBy</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">sortBy</span> <span
                class="cm-operator">=</span> <span class="cm-variable">sortBy</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* Gets brand.</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return the brand</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">String</span> <span class="cm-variable">getBrand</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">brand</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* Sets brand.</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param brand the brand</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">setBrand</span>(<span
                class="cm-variable-3">String</span> <span class="cm-variable">brand</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">brand</span> <span class="cm-operator">=</span> <span
                class="cm-variable">brand</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* Gets city.</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return the city</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">String</span> <span class="cm-variable">getCity</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">city</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* Sets city.</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param city the city</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">setCity</span>(<span
                class="cm-variable-3">String</span> <span class="cm-variable">city</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">city</span> <span class="cm-operator">=</span> <span
                class="cm-variable">city</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* Gets star name.</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return the star name</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">String</span> <span class="cm-variable">getStarName</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">starName</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* Sets star name.</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param starName the star name</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">setStarName</span>(<span
                class="cm-variable-3">String</span> <span class="cm-variable">starName</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">starName</span> <span
                class="cm-operator">=</span> <span class="cm-variable">starName</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* Gets min price.</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return the min price</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">getMinPrice</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">minPrice</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* Sets min price.</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param minPrice the min price</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">setMinPrice</span>(<span
                class="cm-variable-3">Integer</span> <span class="cm-variable">minPrice</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">minPrice</span> <span
                class="cm-operator">=</span> <span class="cm-variable">minPrice</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* Gets max price.</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return the max price</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">getMaxPrice</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">maxPrice</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* Sets max price.</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param maxPrice the max price</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">setMaxPrice</span>(<span
                class="cm-variable-3">Integer</span> <span class="cm-variable">maxPrice</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">maxPrice</span> <span
                class="cm-operator">=</span> <span class="cm-variable">maxPrice</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* Gets location.</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return the location</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">String</span> <span class="cm-variable">getLocation</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">location</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* Sets location.</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param location the location</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">setLocation</span>(<span
                class="cm-variable-3">String</span> <span class="cm-variable">location</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">location</span> <span
                class="cm-operator">=</span> <span class="cm-variable">location</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@SuppressWarnings</span>(<span class="cm-string">"all"</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">String</span> <span class="cm-variable">toString</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">final</span> <span class="cm-variable-3">StringBuilder</span> <span
                class="cm-variable">stringbuilder</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable-3">StringBuilder</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">stringbuilder</span>.<span class="cm-variable">append</span>(<span
                class="cm-string">"key："</span>).<span class="cm-variable">append</span>(<span
                class="cm-variable">key</span>).<span class="cm-variable">append</span>(<span
                class="cm-string">'\n'</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">stringbuilder</span>.<span
                class="cm-variable">append</span>(<span class="cm-string">"page："</span>).<span class="cm-variable">append</span>(<span
                class="cm-variable">page</span>).<span class="cm-variable">append</span>(<span
                class="cm-string">'\n'</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">stringbuilder</span>.<span
                class="cm-variable">append</span>(<span class="cm-string">"size："</span>).<span class="cm-variable">append</span>(<span
                class="cm-variable">size</span>).<span class="cm-variable">append</span>(<span
                class="cm-string">'\n'</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">stringbuilder</span>.<span
                class="cm-variable">append</span>(<span class="cm-string">"sortBy："</span>).<span class="cm-variable">append</span>(<span
                class="cm-variable">sortBy</span>).<span class="cm-variable">append</span>(<span
                class="cm-string">'\n'</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">stringbuilder</span>.<span
                class="cm-variable">append</span>(<span class="cm-string">"brand："</span>).<span class="cm-variable">append</span>(<span
                class="cm-variable">brand</span>).<span class="cm-variable">append</span>(<span
                class="cm-string">'\n'</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">stringbuilder</span>.<span
                class="cm-variable">append</span>(<span class="cm-string">"city："</span>).<span class="cm-variable">append</span>(<span
                class="cm-variable">city</span>).<span class="cm-variable">append</span>(<span
                class="cm-string">'\n'</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">stringbuilder</span>.<span
                class="cm-variable">append</span>(<span class="cm-string">"starName："</span>).<span class="cm-variable">append</span>(<span
                class="cm-variable">starName</span>).<span class="cm-variable">append</span>(<span class="cm-string">'\n'</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">stringbuilder</span>.<span class="cm-variable">append</span>(<span
                class="cm-string">"minPrice："</span>).<span class="cm-variable">append</span>(<span class="cm-variable">minPrice</span>).<span
                class="cm-variable">append</span>(<span class="cm-string">'\n'</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">stringbuilder</span>.<span class="cm-variable">append</span>(<span
                class="cm-string">"maxPrice："</span>).<span class="cm-variable">append</span>(<span class="cm-variable">maxPrice</span>).<span
                class="cm-variable">append</span>(<span class="cm-string">'\n'</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">stringbuilder</span>.<span class="cm-variable">append</span>(<span
                class="cm-string">"location："</span>).<span class="cm-variable">append</span>(<span class="cm-variable">location</span>).<span
                class="cm-variable">append</span>(<span class="cm-string">'\n'</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">stringbuilder</span>.<span
                class="cm-variable">toString</span>();</span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 6509px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 6509px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <p><span>返回值</span></p>
        <p><span>分页查询，需要返回分页结果PageResult，包含两个属性：</span></p>
        <ul>
            <li><code>total</code><span>：总条数</span></li>
            <li><code>List&lt;HotelDoc&gt;</code><span>：当前页的数据</span></li>
        </ul>
        <p><span>定义返回结果</span></p>
        <p>&nbsp;</p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">List</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel.entity</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): PageResult</span></span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/2</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 15:06</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Description(描述)： 返回的数据实体类</span></span></pre><pre class=" CodeMirror-line "
                                                                                       role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">*/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span
                class="cm-def">PageResult</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line "
                                                                                     role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable-3">Long</span> <span class="cm-variable">total</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">private</span> <span class="cm-variable">List</span><span
                class="cm-operator">&lt;</span><span class="cm-variable">HotelDoc</span><span
                class="cm-operator">&gt;</span> <span class="cm-variable">hotels</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* Instantiates a new Page result.</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">PageResult</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* Instantiates a new Page result.</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param total  the total</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @param hotels the hotels</span></span></pre><pre class=" CodeMirror-line "
                                                                                      role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">PageResult</span>(<span
                class="cm-variable-3">Long</span> <span class="cm-variable">total</span>, <span
                class="cm-variable">List</span><span class="cm-operator">&lt;</span><span
                class="cm-variable">HotelDoc</span><span class="cm-operator">&gt;</span> <span class="cm-variable">hotels</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">total</span> <span class="cm-operator">=</span> <span
                class="cm-variable">total</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span
                class="cm-variable">hotels</span> <span class="cm-operator">=</span> <span
                class="cm-variable">hotels</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* Gets total.</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return the total</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">Long</span> <span class="cm-variable">getTotal</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">total</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* Sets total.</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param total the total</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">setTotal</span>(<span
                class="cm-variable-3">Long</span> <span class="cm-variable">total</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">total</span> <span class="cm-operator">=</span> <span
                class="cm-variable">total</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* Gets hotels.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return the hotels</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">List</span><span
                class="cm-operator">&lt;</span><span class="cm-variable">HotelDoc</span><span
                class="cm-operator">&gt;</span> <span class="cm-variable">getHotels</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">hotels</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* Sets hotels.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param hotels the hotels</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">setHotels</span>(<span
                class="cm-variable">List</span><span class="cm-operator">&lt;</span><span
                class="cm-variable">HotelDoc</span><span class="cm-operator">&gt;</span> <span class="cm-variable">hotels</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">hotels</span> <span
                class="cm-operator">=</span> <span class="cm-variable">hotels</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1909px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 1909px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <h2 id='定义controller'><span>定义controller</span></h2>
        <p><span>定义一个HotelController，声明查询接口，满足下列要求：</span></p>
        <ul>
            <li><p><span>请求方式：Post</span></p></li>
            <li><p><span>请求路径：/hotel/list</span></p></li>
            <li><p><span>请求参数：对象，类型为RequestParam</span></p></li>
            <li><p><span>返回值：PageResult，包含两个属性</span></p>
                <ul>
                    <li><code>Long total</code><span>：总条数</span></li>
                    <li><code>List&lt;HotelDoc&gt; hotels</code><span>：酒店数据</span></li>
                </ul>
            </li>
        </ul>
        <p>&nbsp;</p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">controller</span>;</span></pre></div><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">PageResult</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">RequestParams</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">service</span>.<span class="cm-variable">IHotelService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">beans</span>.<span class="cm-variable">factory</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Autowired</span>;</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">web</span>.<span class="cm-variable">bind</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">PostMapping</span>;</span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">web</span>.<span class="cm-variable">bind</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">RequestBody</span>;</span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">web</span>.<span class="cm-variable">bind</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">RequestMapping</span>;</span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">web</span>.<span class="cm-variable">bind</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">RestController</span>;</span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">javax</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Resource</span>;</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel.controller</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): HotelController</span></span></pre><pre class=" CodeMirror-line "
                                                                                        role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/2</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 14:53</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Description(描述)： Controller</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-meta">@RestController</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"><span
                class="cm-meta">@RequestMapping</span>(<span class="cm-string">"hotel"</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">HotelController</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Resource</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable">IHotelService</span> <span class="cm-variable">hotelService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 获取hotel列表</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param params 参数</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @return PageResult</span></span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@PostMapping</span>(<span class="cm-string">"list"</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">PageResult</span> <span class="cm-variable">search</span>(<span
                class="cm-meta">@RequestBody</span> <span class="cm-variable">RequestParams</span> <span
                class="cm-variable">params</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span
                class="cm-variable">hotelService</span>.<span class="cm-variable">search</span>(<span
                class="cm-variable">params</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "
                                                                                     role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1058px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 1058px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <h2 id='实现搜索业务'><span>实现搜索业务</span></h2>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">service</span>;</span></pre></div><pre class=" CodeMirror-line "
                                                                           role="presentation"><span role="presentation"
                                                                                                     style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">baomidou</span>.<span class="cm-variable">mybatisplus</span>.<span
                class="cm-variable">extension</span>.<span class="cm-variable">service</span>.<span class="cm-variable">IService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">Hotel</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">PageResult</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">RequestParams</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel.service</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): IHotelService</span></span></pre><pre class=" CodeMirror-line "
                                                                                      role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/2</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 14:54</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Description(描述)： 接口</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">interface</span> <span class="cm-def">IHotelService</span> <span
                class="cm-keyword">extends</span> <span class="cm-variable">IService</span><span class="cm-operator">&lt;</span><span
                class="cm-variable">Hotel</span><span class="cm-operator">&gt;</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 搜索</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param params 参数</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @return PageResult</span></span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-variable">PageResult</span> <span class="cm-variable">search</span>(<span class="cm-variable">RequestParams</span> <span
                class="cm-variable">params</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "
                                                                                     role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 736px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 736px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">service</span>.<span class="cm-variable">impl</span>;</span></pre></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">alibaba</span>.<span class="cm-variable">fastjson</span>.<span class="cm-variable">JSON</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">baomidou</span>.<span class="cm-variable">mybatisplus</span>.<span
                class="cm-variable">core</span>.<span class="cm-variable">toolkit</span>.<span class="cm-variable">StringUtils</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">baomidou</span>.<span class="cm-variable">mybatisplus</span>.<span
                class="cm-variable">extension</span>.<span class="cm-variable">service</span>.<span class="cm-variable">impl</span>.<span
                class="cm-variable">ServiceImpl</span>;</span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">lombok</span>.<span class="cm-variable">extern</span>.<span
                class="cm-variable">slf4j</span>.<span class="cm-variable">Slf4j</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">Hotel</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">HotelDoc</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">PageResult</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">RequestParams</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">mapper</span>.<span class="cm-variable">HotelMapper</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">service</span>.<span class="cm-variable">IHotelService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">search</span>.<span class="cm-variable">SearchRequest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">search</span>.<span class="cm-variable">SearchResponse</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">client</span>.<span class="cm-variable">RequestOptions</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">client</span>.<span class="cm-variable">RestHighLevelClient</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">common</span>.<span class="cm-variable">geo</span>.<span class="cm-variable">GeoPoint</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">common</span>.<span class="cm-variable">unit</span>.<span class="cm-variable">DistanceUnit</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">index</span>.<span class="cm-variable">query</span>.<span class="cm-variable">BoolQueryBuilder</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">index</span>.<span class="cm-variable">query</span>.<span class="cm-variable">QueryBuilders</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">index</span>.<span class="cm-variable">query</span>.<span class="cm-variable">functionscore</span>.<span
                class="cm-variable">FunctionScoreQueryBuilder</span>;</span></pre><pre class=" CodeMirror-line "
                                                                                       role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span class="cm-variable">index</span>.<span
                class="cm-variable">query</span>.<span class="cm-variable">functionscore</span>.<span
                class="cm-variable">ScoreFunctionBuilders</span>;</span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span class="cm-variable">search</span>.<span
                class="cm-variable">SearchHit</span>;</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">SearchHits</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">fetch</span>.<span class="cm-variable">subphase</span>.<span
                class="cm-variable">highlight</span>.<span class="cm-variable">HighlightField</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">sort</span>.<span class="cm-variable">SortBuilders</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">sort</span>.<span class="cm-variable">SortOrder</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">beans</span>.<span class="cm-variable">factory</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Autowired</span>;</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">stereotype</span>.<span class="cm-variable">Service</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">io</span>.<span class="cm-variable">IOException</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">ArrayList</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">List</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">Map</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel.service.impl</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): HotelServiceImpl</span></span></pre><pre class=" CodeMirror-line "
                                                                                         role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/2</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 14:58</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Description(描述)： 无</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-meta">@Service</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Slf4j</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">HotelServiceImpl</span> <span
                class="cm-keyword">extends</span> <span class="cm-variable">ServiceImpl</span><span class="cm-operator">&lt;</span><span
                class="cm-variable">HotelMapper</span>, <span class="cm-variable">Hotel</span><span class="cm-operator">&gt;</span> <span
                class="cm-keyword">implements</span> <span class="cm-variable">IHotelService</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Autowired</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable">RestHighLevelClient</span> <span
                class="cm-variable">restHighLevelClient</span>;</span></pre><pre class=" CodeMirror-line "
                                                                                 role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">PageResult</span> <span class="cm-variable">search</span>(<span
                class="cm-variable">RequestParams</span> <span class="cm-variable">params</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">try</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备Request</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchRequest</span> <span class="cm-variable">request</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                class="cm-variable">SearchRequest</span>(<span class="cm-string">"hotel"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.准备请求参数</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.1.query</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">buildBasicQuery</span>(<span class="cm-variable">params</span>, <span
                class="cm-variable">request</span>);</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.2.分页</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">int</span> <span class="cm-variable">page</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span
                class="cm-variable">getPage</span>();</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">int</span> <span class="cm-variable">size</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span
                class="cm-variable">getSize</span>();</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">from</span>((<span
                class="cm-variable">page</span> <span class="cm-operator">-</span> <span
                class="cm-number">1</span>) <span class="cm-operator">*</span> <span
                class="cm-variable">size</span>).<span class="cm-variable">size</span>(<span
                class="cm-variable">size</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.3.距离排序</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">location</span> <span class="cm-operator">=</span> <span
                class="cm-variable">params</span>.<span class="cm-variable">getLocation</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断距离信息是否为空</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">StringUtils</span>.<span class="cm-variable">isNotBlank</span>(<span
                class="cm-variable">location</span>))</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//如果距离信息不为空，按距离排序</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">sort</span>(<span
                class="cm-variable">SortBuilders</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">geoDistanceSort</span>(<span class="cm-string">"location"</span>, <span
                class="cm-keyword">new</span> <span class="cm-variable">GeoPoint</span>(<span class="cm-variable">location</span>))</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//升序</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">order</span>(<span class="cm-variable">SortOrder</span>.<span class="cm-variable">ASC</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//单位为千米</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">unit</span>(<span class="cm-variable">DistanceUnit</span>.<span class="cm-variable">KILOMETERS</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  );</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3.发送请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchResponse</span> <span class="cm-variable">response</span> <span
                class="cm-operator">=</span> <span class="cm-variable">restHighLevelClient</span>.<span
                class="cm-variable">search</span>(<span class="cm-variable">request</span>, <span class="cm-variable">RequestOptions</span>.<span
                class="cm-variable">DEFAULT</span>);</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.解析响应</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">handleResponse</span>(<span
                class="cm-variable">response</span>);</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">catch</span> (<span class="cm-variable">IOException</span> <span class="cm-variable">e</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">throw</span> <span class="cm-keyword">new</span> <span class="cm-variable">RuntimeException</span>(<span
                class="cm-string">"搜索数据失败"</span>, <span class="cm-variable">e</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 填充查询参数的方法</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param params  RequestParams</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @param request SearchRequest</span></span></pre><pre class=" CodeMirror-line "
                                                                                          role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable-3">void</span> <span class="cm-variable">buildBasicQuery</span>(<span
                class="cm-variable">RequestParams</span> <span class="cm-variable">params</span>, <span
                class="cm-variable">SearchRequest</span> <span class="cm-variable">request</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备Boolean查询</span></span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">BoolQueryBuilder</span> <span
                class="cm-variable">boolQuery</span> <span class="cm-operator">=</span> <span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">boolQuery</span>();</span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.1.关键字搜索，match查询，放到must中</span></span></pre><pre class=" CodeMirror-line "
                                                                                        role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">key</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span
                class="cm-variable">getKey</span>();</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断关键字是否为空</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">StringUtils</span>.<span class="cm-variable">isNotBlank</span>(<span
                class="cm-variable">key</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 不为空，根据关键字查询</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">must</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">matchQuery</span>(<span class="cm-string">"all"</span>, <span class="cm-variable">key</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 为空，查询所有</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">must</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">matchAllQuery</span>());</span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.2.品牌</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">brand</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span
                class="cm-variable">getBrand</span>();</span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断品牌信息是否为空</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">StringUtils</span>.<span class="cm-variable">isNotBlank</span>(<span
                class="cm-variable">brand</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//品牌信息不为空，过滤掉其它品牌，不参与算分</span></span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">filter</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">termQuery</span>(<span class="cm-string">"brand"</span>, <span class="cm-variable">brand</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.3.城市</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">city</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span
                class="cm-variable">getCity</span>();</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断城市是否为空</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">StringUtils</span>.<span class="cm-variable">isNotBlank</span>(<span
                class="cm-variable">city</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//不为空，过滤掉其它城市，不参与算分</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">filter</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">termQuery</span>(<span class="cm-string">"city"</span>, <span class="cm-variable">city</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.4.星级</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">starName</span> <span class="cm-operator">=</span> <span
                class="cm-variable">params</span>.<span class="cm-variable">getStarName</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断星级信息是否为空</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">StringUtils</span>.<span class="cm-variable">isNotBlank</span>(<span
                class="cm-variable">starName</span>))</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//不为空，过滤掉其它星级，不参与算分</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">filter</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">termQuery</span>(<span class="cm-string">"starName"</span>, <span
                class="cm-variable">starName</span>));</span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.5.价格范围</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//最小价格</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">Integer</span> <span class="cm-variable">minPrice</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span class="cm-variable">getMinPrice</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//最大价格</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">Integer</span> <span class="cm-variable">maxPrice</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span class="cm-variable">getMaxPrice</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断是否选择了价格区间</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">minPrice</span> <span
                class="cm-operator">!=</span> <span class="cm-atom">null</span> <span
                class="cm-operator">&amp;&amp;</span> <span class="cm-variable">maxPrice</span> <span
                class="cm-operator">!=</span> <span class="cm-atom">null</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//选择了价格区间</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//是否有最大值，没有最大值，就是xxx元以上</span></span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">maxPrice</span> <span class="cm-operator">=</span> <span class="cm-variable">maxPrice</span> <span
                class="cm-operator">==</span> <span class="cm-number">0</span> <span class="cm-operator">?</span> <span
                class="cm-variable-3">Integer</span>.<span class="cm-variable">MAX_VALUE</span> : <span
                class="cm-variable">maxPrice</span>;</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//设置价格区间</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">filter</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">rangeQuery</span>(<span class="cm-string">"price"</span>).<span class="cm-variable">gte</span>(<span
                class="cm-variable">minPrice</span>).<span class="cm-variable">lte</span>(<span class="cm-variable">maxPrice</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.算分函数查询</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">FunctionScoreQueryBuilder</span> <span class="cm-variable">functionScoreQuery</span> <span
                class="cm-operator">=</span> <span class="cm-variable">QueryBuilders</span>.<span class="cm-variable">functionScoreQuery</span>(</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>, <span class="cm-comment">// 原始查询，boolQuery</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">new</span> <span class="cm-variable">FunctionScoreQueryBuilder</span>.<span
                class="cm-variable">FilterFunctionBuilder</span>[]</span></pre><pre class=" CodeMirror-line "
                                                                                    role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  { <span
                class="cm-comment">// function数组</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">new</span> <span class="cm-variable">FunctionScoreQueryBuilder</span>.<span
                class="cm-variable">FilterFunctionBuilder</span>(</span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断是否是广告，如果是，分数加10倍</span></span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">QueryBuilders</span>.<span class="cm-variable">termQuery</span>(<span
                class="cm-string">"isAD"</span>, <span class="cm-atom">true</span>), <span
                class="cm-comment">// 过滤条件</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">ScoreFunctionBuilders</span>.<span
                class="cm-variable">weightFactorFunction</span>(<span class="cm-number">10</span>) <span
                class="cm-comment">// 算分函数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  )</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  );</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3.设置查询条件</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">query</span>(<span
                class="cm-variable">functionScoreQuery</span>);</span></pre><pre class=" CodeMirror-line "
                                                                                 role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 处理响应信息的方法</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param response SearchResponse</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @return PageResult</span></span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable">PageResult</span> <span class="cm-variable">handleResponse</span>(<span
                class="cm-variable">SearchResponse</span> <span class="cm-variable">response</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchHits</span> <span class="cm-variable">searchHits</span> <span
                class="cm-operator">=</span> <span class="cm-variable">response</span>.<span
                class="cm-variable">getHits</span>();</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.1.总条数</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">long</span> <span class="cm-variable">total</span> <span
                class="cm-operator">=</span> <span class="cm-variable">searchHits</span>.<span class="cm-variable">getTotalHits</span>().<span
                class="cm-variable">value</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 4.2.获取文档数组</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchHit</span>[] <span class="cm-variable">hits</span> <span
                class="cm-operator">=</span> <span class="cm-variable">searchHits</span>.<span class="cm-variable">getHits</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.3.遍历</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">List</span><span
                class="cm-operator">&lt;</span><span class="cm-variable">HotelDoc</span><span
                class="cm-operator">&gt;</span> <span class="cm-variable">hotels</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                class="cm-variable">ArrayList</span><span class="cm-operator">&lt;&gt;</span>(<span class="cm-variable">hits</span>.<span
                class="cm-variable">length</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span
                class="cm-variable">SearchHit</span> <span class="cm-variable">hit</span> : <span class="cm-variable">hits</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.4.获取source</span></span></pre><pre class=" CodeMirror-line "
                                                                           role="presentation"><span role="presentation"
                                                                                                     style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">json</span> <span
                class="cm-operator">=</span> <span class="cm-variable">hit</span>.<span class="cm-variable">getSourceAsString</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.5.反序列化，非高亮的</span></span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">HotelDoc</span> <span class="cm-variable">hotelDoc</span> <span class="cm-operator">=</span> <span
                class="cm-variable">JSON</span>.<span class="cm-variable">parseObject</span>(<span class="cm-variable">json</span>, <span
                class="cm-variable">HotelDoc</span>.<span class="cm-keyword">class</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.6.处理高亮结果</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1)获取高亮map</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span
                class="cm-variable-3">String</span>, <span class="cm-variable">HighlightField</span><span
                class="cm-operator">&gt;</span> <span class="cm-variable">map</span> <span class="cm-operator">=</span> <span
                class="cm-variable">hit</span>.<span class="cm-variable">getHighlightFields</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断集合是否为空，避免空指针</span></span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">map</span> <span
                class="cm-operator">!=</span> <span class="cm-atom">null</span> <span
                class="cm-operator">&amp;&amp;</span> <span class="cm-operator">!</span><span
                class="cm-variable">map</span>.<span class="cm-variable">isEmpty</span>())</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2）根据字段名，获取高亮结果</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">HighlightField</span> <span class="cm-variable">highlightField</span> <span
                class="cm-operator">=</span> <span class="cm-variable">map</span>.<span
                class="cm-variable">get</span>(<span class="cm-string">"name"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断高亮字段是否为空，避免空指针</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">highlightField</span> <span class="cm-operator">!=</span> <span
                class="cm-atom">null</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation"
                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3）获取高亮结果字符串数组中的第1个元素</span></span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">hName</span> <span
                class="cm-operator">=</span> <span class="cm-variable">highlightField</span>.<span class="cm-variable">getFragments</span>()[<span
                class="cm-number">0</span>].<span class="cm-variable">toString</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4）把高亮结果放到HotelDoc中，覆盖原有的数据</span></span></pre><pre class=" CodeMirror-line "
                                                                                         role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">hotelDoc</span>.<span class="cm-variable">setName</span>(<span class="cm-variable">hName</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.8.排序信息</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">Object</span>[] <span class="cm-variable">sortValues</span> <span
                class="cm-operator">=</span> <span class="cm-variable">hit</span>.<span class="cm-variable">getSortValues</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">sortValues</span>.<span class="cm-variable">length</span> <span
                class="cm-operator">&gt;</span> <span class="cm-number">0</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//设置距离</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">hotelDoc</span>.<span class="cm-variable">setDistance</span>(<span
                class="cm-variable">sortValues</span>[<span class="cm-number">0</span>]);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.9.放入集合</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">hotels</span>.<span class="cm-variable">add</span>(<span class="cm-variable">hotelDoc</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//返回数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">PageResult</span>(<span class="cm-variable">total</span>, <span
                class="cm-variable">hotels</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "
                                                                                     role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 5267px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 5267px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <h1 id='结果过滤'><span>结果过滤</span></h1>
        <p><span>包含的过滤条件有：</span></p>
        <ul>
            <li><span>brand：品牌值</span></li>
            <li><span>city：城市</span></li>
            <li><span>minPrice~maxPrice：价格范围</span></li>
            <li><span>starName：星级</span></li>
        </ul>
        <p>&nbsp;</p>
        <p><span>在之前的业务中，只有match查询，根据关键字搜索，现在要添加条件过滤，包括：</span></p>
        <ul>
            <li><span>品牌过滤：是keyword类型，用term查询</span></li>
            <li><span>星级过滤：是keyword类型，用term查询</span></li>
            <li><span>价格过滤：是数值类型，用range查询</span></li>
            <li><span>城市过滤：是keyword类型，用term查询</span></li>
        </ul>
        <p><span>多个查询条件组合，肯定是boolean查询来组合：</span></p>
        <ul>
            <li><span>关键字搜索放到must中，参与算分</span></li>
            <li><span>其它过滤条件放到filter中，不参与算分</span></li>
        </ul>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <h1 id='我周边的酒店'><span>我周边的酒店</span></h1>
        <ul>
            <li><span>修改RequestParams参数，接收location字段</span></li>
            <li><span>修改search方法业务逻辑，如果location有值，添加根据geo_distance排序的功能</span></li>
        </ul>
        <p>&nbsp;</p>
        <p><span>地理坐标排序：</span></p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="json"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="json"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-variable">GET</span>&nbsp;<span class="cm-operator">/</span><span class="cm-variable">indexName</span><span
                class="cm-operator">/</span><span class="cm-variable">_search</span></span></pre></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;<span
                class="cm-string cm-property">"query"</span>:&nbsp;{</span></pre><pre class=" CodeMirror-line "
                                                                                      role="presentation"><span
                role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;<span
                class="cm-string cm-property">"match_all"</span>:&nbsp;{}</span></pre><pre class=" CodeMirror-line "
                                                                                           role="presentation"><span
                role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;},</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span
                class="cm-string cm-property">"sort"</span>:&nbsp;[</span></pre><pre class=" CodeMirror-line "
                                                                                     role="presentation"><span
                role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
                class="cm-string cm-property">"price"</span>:&nbsp;<span
                class="cm-string">"asc"</span>&nbsp;&nbsp;</span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;},</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
                class="cm-string cm-property">"_geo_distance"</span>&nbsp;:&nbsp;{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
                class="cm-string cm-property">"FIELD"</span>&nbsp;:&nbsp;<span class="cm-string">"纬度，经度"</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
                class="cm-string cm-property">"order"</span>&nbsp;:&nbsp;<span
                class="cm-string">"asc"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
                class="cm-string cm-property">"unit"</span>&nbsp;:&nbsp;<span class="cm-string">"km"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&nbsp;&nbsp;]</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 414px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 414px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <h1 id='排序距离显示'><span>排序距离显示</span></h1>
        <ul>
            <li><span>修改HotelDoc，添加排序距离字段，用于页面显示</span></li>
            <li><span>修改HotelService类中的handleResponse方法，添加对sort值的获取</span></li>
        </ul>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <h1 id='酒店竞价排名'><span>酒店竞价排名</span></h1>
        <p><span>让指定的酒店在搜索结果中排名置顶</span></p>
        <p>&nbsp;</p>
        <p><span>function_score查询可以影响算分，算分高了，自然排名也就高了。而function_score包含3个要素：</span></p>
        <ul>
            <li><span>过滤条件：哪些文档要加分</span></li>
            <li><span>算分函数：如何计算function score</span></li>
            <li><span>加权方式：function score 与 query score如何运算</span></li>
        </ul>
        <p>&nbsp;</p>
        <p>
            <span>这里的需求是：让</span><strong><span>指定酒店</span></strong><span>排名靠前。因此我们需要给这些酒店添加一个标记，这样在过滤条件中就可以</span><strong><span>根据这个标记来判断，是否要提高算分</span></strong><span>。</span>
        </p>
        <p><span>比如，我们给酒店添加一个字段：isAD，Boolean类型：</span></p>
        <ul>
            <li><span>true：是广告</span></li>
            <li><span>false：不是广告</span></li>
        </ul>
        <p><span>这样function_score包含3个要素就很好确定了：</span></p>
        <ul>
            <li><span>过滤条件：判断isAD 是否为true</span></li>
            <li><span>算分函数：我们可以用最简单暴力的weight，固定加权值</span></li>
            <li><span>加权方式：可以用默认的相乘，大大提高算分</span></li>
        </ul>
        <p>&nbsp;</p>
        <p><span>因此，业务的实现步骤包括：</span></p>
        <ol start=''>
            <li><span>给HotelDoc类添加isAD字段，Boolean类型</span></li>
            <li><span>挑选几个你喜欢的酒店，给它的文档数据添加isAD字段，值为true</span></li>
            <li><span>修改search方法，添加function score功能，给isAD值为true的酒店增加权重</span></li>
        </ol>
        <p>&nbsp;</p>
        <h2 id='添加广告标记'><span>添加广告标记</span></h2>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="json"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="json"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-variable">POST</span> <span class="cm-operator">/</span><span class="cm-variable">hotel</span><span
                class="cm-operator">/</span><span class="cm-variable">_update</span><span
                class="cm-operator">/</span><span class="cm-number">1902197537</span></span></pre></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-string cm-property">"doc"</span>: {</span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"isAD"</span>: <span class="cm-atom">true</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-variable">POST</span> <span class="cm-operator">/</span><span class="cm-variable">hotel</span><span
                class="cm-operator">/</span><span class="cm-variable">_update</span><span
                class="cm-operator">/</span><span class="cm-number">2056126831</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-string cm-property">"doc"</span>: {</span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"isAD"</span>: <span class="cm-atom">true</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-variable">POST</span> <span class="cm-operator">/</span><span class="cm-variable">hotel</span><span
                class="cm-operator">/</span><span class="cm-variable">_update</span><span
                class="cm-operator">/</span><span class="cm-number">1989806195</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-string cm-property">"doc"</span>: {</span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"isAD"</span>: <span class="cm-atom">true</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-variable">POST</span> <span class="cm-operator">/</span><span class="cm-variable">hotel</span><span
                class="cm-operator">/</span><span class="cm-variable">_update</span><span
                class="cm-operator">/</span><span class="cm-number">2056105938</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-string cm-property">"doc"</span>: {</span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"isAD"</span>: <span class="cm-atom">true</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-variable">POST</span> <span class="cm-operator">/</span><span class="cm-variable">hotel</span><span
                class="cm-operator">/</span><span class="cm-variable">_update</span><span
                class="cm-operator">/</span><span class="cm-number">60214</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-string cm-property">"doc"</span>: {</span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"isAD"</span>: <span class="cm-atom">true</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-variable">POST</span> <span class="cm-operator">/</span><span class="cm-variable">hotel</span><span
                class="cm-operator">/</span><span class="cm-variable">_update</span><span
                class="cm-operator">/</span><span class="cm-number">60223</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-string cm-property">"doc"</span>: {</span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"isAD"</span>: <span class="cm-atom">true</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-variable">POST</span> <span class="cm-operator">/</span><span class="cm-variable">hotel</span><span
                class="cm-operator">/</span><span class="cm-variable">_update</span><span
                class="cm-operator">/</span><span class="cm-number">60398</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-string cm-property">"doc"</span>: {</span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"isAD"</span>: <span class="cm-atom">true</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-variable">POST</span> <span class="cm-operator">/</span><span class="cm-variable">hotel</span><span
                class="cm-operator">/</span><span class="cm-variable">_update</span><span
                class="cm-operator">/</span><span class="cm-number">60916</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-string cm-property">"doc"</span>: {</span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"isAD"</span>: <span class="cm-atom">true</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1127px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 1127px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <h2 id='添加算分函数查询'><span>添加算分函数查询</span></h2>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <h1 id='实现酒店搜索框自动补全'><span>实现酒店搜索框自动补全</span></h1>
        <p>&nbsp;</p>
        <ol start=''>
            <li><span>修改hotel索引库结构，设置自定义拼音分词器</span></li>
            <li><span>修改索引库的name、all字段，使用自定义分词器</span></li>
            <li><span>索引库添加一个新字段suggestion，类型为completion类型，使用自定义的分词器</span></li>
            <li><span>给HotelDoc类添加suggestion字段，内容包含brand、business</span></li>
            <li><span>重新导入数据到hotel库</span></li>
        </ol>
        <p>&nbsp;</p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="json"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="json"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-variable">PUT</span> <span class="cm-operator">/</span><span class="cm-variable">hotel</span></span></pre></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span
                class="cm-string cm-property">"settings"</span>: {</span></pre><pre class=" CodeMirror-line "
                                                                                    role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-string cm-property">"analysis"</span>: {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"analyzer"</span>: {</span></pre><pre class=" CodeMirror-line "
                                                                                    role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"text_anlyzer"</span>: {</span></pre><pre class=" CodeMirror-line "
                                                                                        role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"tokenizer"</span>: <span
                class="cm-string">"ik_max_word"</span>,</span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"filter"</span>: <span class="cm-string">"py"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  },</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"completion_analyzer"</span>: {</span></pre><pre class=" CodeMirror-line "
                                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"tokenizer"</span>: <span class="cm-string">"keyword"</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"filter"</span>: <span class="cm-string">"py"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  },</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"filter"</span>: {</span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"py"</span>: {</span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"type"</span>: <span class="cm-string">"pinyin"</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"keep_full_pinyin"</span>: <span
                class="cm-atom">false</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"keep_joined_full_pinyin"</span>: <span
                class="cm-atom">true</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"keep_original"</span>: <span class="cm-atom">true</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"limit_first_letter_length"</span>: <span
                class="cm-number">16</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"remove_duplicated_term"</span>: <span class="cm-atom">true</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"none_chinese_pinyin_tokenize"</span>: <span class="cm-atom">false</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  },</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span
                class="cm-string cm-property">"mappings"</span>: {</span></pre><pre class=" CodeMirror-line "
                                                                                    role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-string cm-property">"properties"</span>: {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"id"</span>:{</span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"type"</span>: <span class="cm-string">"keyword"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  },</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"name"</span>:{</span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"type"</span>: <span class="cm-string">"text"</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"analyzer"</span>: <span
                class="cm-string">"text_anlyzer"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"search_analyzer"</span>: <span
                class="cm-string">"ik_smart"</span>,</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"copy_to"</span>: <span class="cm-string">"all"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  },</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"address"</span>:{</span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"type"</span>: <span class="cm-string">"keyword"</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"index"</span>: <span class="cm-atom">false</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  },</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"price"</span>:{</span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"type"</span>: <span class="cm-string">"integer"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  },</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"score"</span>:{</span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"type"</span>: <span class="cm-string">"integer"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  },</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"brand"</span>:{</span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"type"</span>: <span class="cm-string">"keyword"</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"copy_to"</span>: <span class="cm-string">"all"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  },</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"city"</span>:{</span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"type"</span>: <span class="cm-string">"keyword"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  },</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"starName"</span>:{</span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"type"</span>: <span class="cm-string">"keyword"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  },</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"business"</span>:{</span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"type"</span>: <span class="cm-string">"keyword"</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"copy_to"</span>: <span class="cm-string">"all"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  },</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"location"</span>:{</span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"type"</span>: <span class="cm-string">"geo_point"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  },</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"pic"</span>:{</span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"type"</span>: <span class="cm-string">"keyword"</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"index"</span>: <span class="cm-atom">false</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  },</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"all"</span>:{</span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"type"</span>: <span class="cm-string">"text"</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"analyzer"</span>: <span
                class="cm-string">"text_anlyzer"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"search_analyzer"</span>: <span class="cm-string">"ik_smart"</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  },</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"suggestion"</span>:{</span></pre><pre class=" CodeMirror-line "
                                                                                     role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"type"</span>: <span class="cm-string">"completion"</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-string cm-property">"analyzer"</span>: <span
                class="cm-string">"completion_analyzer"</span></span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1863px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 1863px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <h2 id='修改hoteldoc实体'><span>修改HotelDoc实体</span></h2>
        <p><span>HotelDoc中要添加一个字段，用来做自动补全，内容可以是酒店品牌、城市、商圈等信息。按照自动补全字段的要求，最好是这些字段的数组。</span></p>
        <p><span>因此我们在HotelDoc中添加一个suggestion字段，类型为</span><code>List&lt;String&gt;</code><span>，然后将brand、city、business等信息放到里面。</span>
        </p>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <h2 id='重新导入'><span>重新导入</span></h2>
        <p><span>重新执行之前编写的导入数据功能</span></p>
        <p>&nbsp;</p>
        <h2 id='实现搜索框自动补全'><span>实现搜索框自动补全</span></h2>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">controller</span>;</span></pre></div><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">PageResult</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">RequestParams</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">service</span>.<span class="cm-variable">IHotelService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">web</span>.<span class="cm-variable">bind</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-operator">*</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">javax</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Resource</span>;</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">List</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel.controller</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): HotelController</span></span></pre><pre class=" CodeMirror-line "
                                                                                        role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/2</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 14:53</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Description(描述)： Controller</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-meta">@RestController</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"><span
                class="cm-meta">@RequestMapping</span>(<span class="cm-string">"hotel"</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">HotelController</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Resource</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable">IHotelService</span> <span class="cm-variable">hotelService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 获取hotel列表</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param params 参数</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @return PageResult</span></span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@PostMapping</span>(<span class="cm-string">"list"</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">PageResult</span> <span class="cm-variable">search</span>(<span
                class="cm-meta">@RequestBody</span> <span class="cm-variable">RequestParams</span> <span
                class="cm-variable">params</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span
                class="cm-variable">hotelService</span>.<span class="cm-variable">search</span>(<span
                class="cm-variable">params</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 自动补全功能</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param prefix 要自动补全的前缀或者关键字</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @return 符合条件的列表</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@GetMapping</span>(<span
                class="cm-string">"suggestion"</span>)</span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">List</span><span
                class="cm-operator">&lt;</span><span class="cm-variable-3">String</span><span
                class="cm-operator">&gt;</span> <span class="cm-variable">getSuggestions</span>(<span class="cm-meta">@RequestParam</span>(<span
                class="cm-string">"key"</span>) <span class="cm-variable-3">String</span> <span class="cm-variable">prefix</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">hotelService</span>.<span
                class="cm-variable">getSuggestions</span>(<span class="cm-variable">prefix</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1265px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 1265px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p><span>接口：</span></p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">service</span>;</span></pre></div><pre class=" CodeMirror-line "
                                                                           role="presentation"><span role="presentation"
                                                                                                     style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">baomidou</span>.<span class="cm-variable">mybatisplus</span>.<span
                class="cm-variable">extension</span>.<span class="cm-variable">service</span>.<span class="cm-variable">IService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">Hotel</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">PageResult</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">RequestParams</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">List</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel.service</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): IHotelService</span></span></pre><pre class=" CodeMirror-line "
                                                                                      role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/2</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 14:54</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Description(描述)： 接口</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">interface</span> <span class="cm-def">IHotelService</span> <span
                class="cm-keyword">extends</span> <span class="cm-variable">IService</span><span class="cm-operator">&lt;</span><span
                class="cm-variable">Hotel</span><span class="cm-operator">&gt;</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 搜索</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param params 参数</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @return PageResult</span></span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-variable">PageResult</span> <span class="cm-variable">search</span>(<span class="cm-variable">RequestParams</span> <span
                class="cm-variable">params</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 自动补全功能</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param prefix 要自动补全的前缀或者关键字</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @return 符合条件的列表</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-variable">List</span><span class="cm-operator">&lt;</span><span
                class="cm-variable-3">String</span><span class="cm-operator">&gt;</span> <span class="cm-variable">getSuggestions</span>(<span
                class="cm-variable-3">String</span> <span class="cm-variable">prefix</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 966px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 966px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p><span>实现类：</span></p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">service</span>.<span class="cm-variable">impl</span>;</span></pre></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">alibaba</span>.<span class="cm-variable">fastjson</span>.<span class="cm-variable">JSON</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">baomidou</span>.<span class="cm-variable">mybatisplus</span>.<span
                class="cm-variable">core</span>.<span class="cm-variable">toolkit</span>.<span class="cm-variable">StringUtils</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">baomidou</span>.<span class="cm-variable">mybatisplus</span>.<span
                class="cm-variable">extension</span>.<span class="cm-variable">service</span>.<span class="cm-variable">impl</span>.<span
                class="cm-variable">ServiceImpl</span>;</span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">lombok</span>.<span class="cm-variable">extern</span>.<span
                class="cm-variable">slf4j</span>.<span class="cm-variable">Slf4j</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">Hotel</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">HotelDoc</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">PageResult</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">RequestParams</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">mapper</span>.<span class="cm-variable">HotelMapper</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">service</span>.<span class="cm-variable">IHotelService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">search</span>.<span class="cm-variable">SearchRequest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">search</span>.<span class="cm-variable">SearchResponse</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">client</span>.<span class="cm-variable">RequestOptions</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">client</span>.<span class="cm-variable">RestHighLevelClient</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">common</span>.<span class="cm-variable">geo</span>.<span class="cm-variable">GeoPoint</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">common</span>.<span class="cm-variable">unit</span>.<span class="cm-variable">DistanceUnit</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">index</span>.<span class="cm-variable">query</span>.<span class="cm-variable">BoolQueryBuilder</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">index</span>.<span class="cm-variable">query</span>.<span class="cm-variable">QueryBuilders</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">index</span>.<span class="cm-variable">query</span>.<span class="cm-variable">functionscore</span>.<span
                class="cm-variable">FunctionScoreQueryBuilder</span>;</span></pre><pre class=" CodeMirror-line "
                                                                                       role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span class="cm-variable">index</span>.<span
                class="cm-variable">query</span>.<span class="cm-variable">functionscore</span>.<span
                class="cm-variable">ScoreFunctionBuilders</span>;</span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span class="cm-variable">search</span>.<span
                class="cm-variable">SearchHit</span>;</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">SearchHits</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">builder</span>.<span class="cm-variable">SearchSourceBuilder</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">fetch</span>.<span class="cm-variable">subphase</span>.<span
                class="cm-variable">highlight</span>.<span class="cm-variable">HighlightField</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">sort</span>.<span class="cm-variable">SortBuilders</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">sort</span>.<span class="cm-variable">SortOrder</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">suggest</span>.<span class="cm-variable">Suggest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">suggest</span>.<span class="cm-variable">SuggestBuilder</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">suggest</span>.<span class="cm-variable">SuggestBuilders</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">suggest</span>.<span class="cm-variable">completion</span>.<span
                class="cm-variable">CompletionSuggestion</span>;</span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">beans</span>.<span class="cm-variable">factory</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Autowired</span>;</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">stereotype</span>.<span class="cm-variable">Service</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">io</span>.<span class="cm-variable">IOException</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">ArrayList</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">List</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">Map</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel.service.impl</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): HotelServiceImpl</span></span></pre><pre class=" CodeMirror-line "
                                                                                         role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/2</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 14:58</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Description(描述)： 无</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-meta">@Service</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Slf4j</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">HotelServiceImpl</span> <span
                class="cm-keyword">extends</span> <span class="cm-variable">ServiceImpl</span><span class="cm-operator">&lt;</span><span
                class="cm-variable">HotelMapper</span>, <span class="cm-variable">Hotel</span><span class="cm-operator">&gt;</span> <span
                class="cm-keyword">implements</span> <span class="cm-variable">IHotelService</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Autowired</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable">RestHighLevelClient</span> <span
                class="cm-variable">restHighLevelClient</span>;</span></pre><pre class=" CodeMirror-line "
                                                                                 role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">PageResult</span> <span class="cm-variable">search</span>(<span
                class="cm-variable">RequestParams</span> <span class="cm-variable">params</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">try</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备Request</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchRequest</span> <span class="cm-variable">request</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                class="cm-variable">SearchRequest</span>(<span class="cm-string">"hotel"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.准备请求参数</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.1.query</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">buildBasicQuery</span>(<span class="cm-variable">params</span>, <span
                class="cm-variable">request</span>);</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.2.分页</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">int</span> <span class="cm-variable">page</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span
                class="cm-variable">getPage</span>();</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">int</span> <span class="cm-variable">size</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span
                class="cm-variable">getSize</span>();</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">from</span>((<span
                class="cm-variable">page</span> <span class="cm-operator">-</span> <span
                class="cm-number">1</span>) <span class="cm-operator">*</span> <span
                class="cm-variable">size</span>).<span class="cm-variable">size</span>(<span
                class="cm-variable">size</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.3.距离排序</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">location</span> <span class="cm-operator">=</span> <span
                class="cm-variable">params</span>.<span class="cm-variable">getLocation</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断距离信息是否为空</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">StringUtils</span>.<span class="cm-variable">isNotBlank</span>(<span
                class="cm-variable">location</span>))</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//如果距离信息不为空，按距离排序</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">sort</span>(<span
                class="cm-variable">SortBuilders</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">geoDistanceSort</span>(<span class="cm-string">"location"</span>, <span
                class="cm-keyword">new</span> <span class="cm-variable">GeoPoint</span>(<span class="cm-variable">location</span>))</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//升序</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">order</span>(<span class="cm-variable">SortOrder</span>.<span class="cm-variable">ASC</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//单位为千米</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">unit</span>(<span class="cm-variable">DistanceUnit</span>.<span class="cm-variable">KILOMETERS</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  );</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3.发送请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchResponse</span> <span class="cm-variable">response</span> <span
                class="cm-operator">=</span> <span class="cm-variable">restHighLevelClient</span>.<span
                class="cm-variable">search</span>(<span class="cm-variable">request</span>, <span class="cm-variable">RequestOptions</span>.<span
                class="cm-variable">DEFAULT</span>);</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.解析响应</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">handleResponse</span>(<span
                class="cm-variable">response</span>);</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">catch</span> (<span class="cm-variable">IOException</span> <span class="cm-variable">e</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">throw</span> <span class="cm-keyword">new</span> <span class="cm-variable">RuntimeException</span>(<span
                class="cm-string">"搜索数据失败"</span>, <span class="cm-variable">e</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">List</span><span
                class="cm-operator">&lt;</span><span class="cm-variable-3">String</span><span
                class="cm-operator">&gt;</span> <span class="cm-variable">getSuggestions</span>(<span
                class="cm-variable-3">String</span> <span class="cm-variable">prefix</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">try</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//构建搜索请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchRequest</span> <span class="cm-variable">searchRequest</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                class="cm-variable">SearchRequest</span>(<span class="cm-string">"hotel"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//构建请求体</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchSourceBuilder</span> <span
                class="cm-variable">searchSourceBuilder</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">SearchSourceBuilder</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//自动补全</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">searchSourceBuilder</span>.<span class="cm-variable">suggest</span>(<span
                class="cm-keyword">new</span> <span class="cm-variable">SuggestBuilder</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">addSuggestion</span>(<span class="cm-string">"suggestions"</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SuggestBuilders</span>.<span class="cm-variable">completionSuggestion</span>(<span
                class="cm-string">"suggestion"</span>)</span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">prefix</span>(<span class="cm-variable">prefix</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">size</span>(<span class="cm-number">10</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">skipDuplicates</span>(<span class="cm-atom">true</span>)));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//放入到请求中</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">searchRequest</span>.<span class="cm-variable">source</span>(<span
                class="cm-variable">searchSourceBuilder</span>);</span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//发起请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchResponse</span> <span class="cm-variable">searchResponse</span> <span
                class="cm-operator">=</span> <span class="cm-variable">restHighLevelClient</span>.<span
                class="cm-variable">search</span>(<span class="cm-variable">searchRequest</span>, <span
                class="cm-variable">RequestOptions</span>.<span class="cm-variable">DEFAULT</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//获取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//获取补全部分</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">Suggest</span> <span class="cm-variable">suggest</span> <span
                class="cm-operator">=</span> <span class="cm-variable">searchResponse</span>.<span class="cm-variable">getSuggest</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">CompletionSuggestion</span> <span class="cm-variable">suggestions</span> <span
                class="cm-operator">=</span> <span class="cm-variable">suggest</span>.<span class="cm-variable">getSuggestion</span>(<span
                class="cm-string">"suggestions"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">List</span><span class="cm-operator">&lt;</span><span class="cm-variable">CompletionSuggestion</span>.<span
                class="cm-variable">Entry</span>.<span class="cm-variable">Option</span><span
                class="cm-operator">&gt;</span> <span class="cm-variable">options</span> <span
                class="cm-operator">=</span> <span class="cm-variable">suggestions</span>.<span class="cm-variable">getOptions</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//遍历数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">List</span><span class="cm-operator">&lt;</span><span
                class="cm-variable-3">String</span><span class="cm-operator">&gt;</span> <span
                class="cm-variable">list</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">ArrayList</span><span class="cm-operator">&lt;&gt;</span>(<span
                class="cm-variable">options</span>.<span class="cm-variable">size</span>());</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">for</span> (<span class="cm-variable">CompletionSuggestion</span>.<span
                class="cm-variable">Entry</span>.<span class="cm-variable">Option</span> <span class="cm-variable">option</span> : <span
                class="cm-variable">options</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//获取文本信息</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">text</span> <span
                class="cm-operator">=</span> <span class="cm-variable">option</span>.<span
                class="cm-variable">getText</span>().<span class="cm-variable">string</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//加入到集合中</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">list</span>.<span class="cm-variable">add</span>(<span
                class="cm-variable">text</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//返回数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">list</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">catch</span> (<span class="cm-variable">Exception</span> <span
                class="cm-variable">e</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">throw</span> <span class="cm-keyword">new</span> <span class="cm-variable">RuntimeException</span>(<span
                class="cm-variable">e</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 填充查询参数的方法</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param params  RequestParams</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @param request SearchRequest</span></span></pre><pre class=" CodeMirror-line "
                                                                                          role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable-3">void</span> <span class="cm-variable">buildBasicQuery</span>(<span
                class="cm-variable">RequestParams</span> <span class="cm-variable">params</span>, <span
                class="cm-variable">SearchRequest</span> <span class="cm-variable">request</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备Boolean查询</span></span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">BoolQueryBuilder</span> <span
                class="cm-variable">boolQuery</span> <span class="cm-operator">=</span> <span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">boolQuery</span>();</span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.1.关键字搜索，match查询，放到must中</span></span></pre><pre class=" CodeMirror-line "
                                                                                        role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">key</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span
                class="cm-variable">getKey</span>();</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断关键字是否为空</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">StringUtils</span>.<span class="cm-variable">isNotBlank</span>(<span
                class="cm-variable">key</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 不为空，根据关键字查询</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">must</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">matchQuery</span>(<span class="cm-string">"all"</span>, <span class="cm-variable">key</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 为空，查询所有</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">must</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">matchAllQuery</span>());</span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.2.品牌</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">brand</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span
                class="cm-variable">getBrand</span>();</span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断品牌信息是否为空</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">StringUtils</span>.<span class="cm-variable">isNotBlank</span>(<span
                class="cm-variable">brand</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//品牌信息不为空，过滤掉其它品牌，不参与算分</span></span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">filter</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">termQuery</span>(<span class="cm-string">"brand"</span>, <span class="cm-variable">brand</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.3.城市</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">city</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span
                class="cm-variable">getCity</span>();</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断城市是否为空</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">StringUtils</span>.<span class="cm-variable">isNotBlank</span>(<span
                class="cm-variable">city</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//不为空，过滤掉其它城市，不参与算分</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">filter</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">termQuery</span>(<span class="cm-string">"city"</span>, <span class="cm-variable">city</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.4.星级</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">starName</span> <span class="cm-operator">=</span> <span
                class="cm-variable">params</span>.<span class="cm-variable">getStarName</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断星级信息是否为空</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">StringUtils</span>.<span class="cm-variable">isNotBlank</span>(<span
                class="cm-variable">starName</span>))</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//不为空，过滤掉其它星级，不参与算分</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">filter</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">termQuery</span>(<span class="cm-string">"starName"</span>, <span
                class="cm-variable">starName</span>));</span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.5.价格范围</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//最小价格</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">Integer</span> <span class="cm-variable">minPrice</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span class="cm-variable">getMinPrice</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//最大价格</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">Integer</span> <span class="cm-variable">maxPrice</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span class="cm-variable">getMaxPrice</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断是否选择了价格区间</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">minPrice</span> <span
                class="cm-operator">!=</span> <span class="cm-atom">null</span> <span
                class="cm-operator">&amp;&amp;</span> <span class="cm-variable">maxPrice</span> <span
                class="cm-operator">!=</span> <span class="cm-atom">null</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//选择了价格区间</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//是否有最大值，没有最大值，就是xxx元以上</span></span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">maxPrice</span> <span class="cm-operator">=</span> <span class="cm-variable">maxPrice</span> <span
                class="cm-operator">==</span> <span class="cm-number">0</span> <span class="cm-operator">?</span> <span
                class="cm-variable-3">Integer</span>.<span class="cm-variable">MAX_VALUE</span> : <span
                class="cm-variable">maxPrice</span>;</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//设置价格区间</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">filter</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">rangeQuery</span>(<span class="cm-string">"price"</span>).<span class="cm-variable">gte</span>(<span
                class="cm-variable">minPrice</span>).<span class="cm-variable">lte</span>(<span class="cm-variable">maxPrice</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.算分函数查询</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">FunctionScoreQueryBuilder</span> <span class="cm-variable">functionScoreQuery</span> <span
                class="cm-operator">=</span> <span class="cm-variable">QueryBuilders</span>.<span class="cm-variable">functionScoreQuery</span>(</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>, <span class="cm-comment">// 原始查询，boolQuery</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">new</span> <span class="cm-variable">FunctionScoreQueryBuilder</span>.<span
                class="cm-variable">FilterFunctionBuilder</span>[]</span></pre><pre class=" CodeMirror-line "
                                                                                    role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  { <span
                class="cm-comment">// function数组</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">new</span> <span class="cm-variable">FunctionScoreQueryBuilder</span>.<span
                class="cm-variable">FilterFunctionBuilder</span>(</span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断是否是广告，如果是，分数加10倍</span></span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">QueryBuilders</span>.<span class="cm-variable">termQuery</span>(<span
                class="cm-string">"isAD"</span>, <span class="cm-atom">true</span>), <span
                class="cm-comment">// 过滤条件</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">ScoreFunctionBuilders</span>.<span
                class="cm-variable">weightFactorFunction</span>(<span class="cm-number">10</span>) <span
                class="cm-comment">// 算分函数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  )</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  );</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3.设置查询条件</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">query</span>(<span
                class="cm-variable">functionScoreQuery</span>);</span></pre><pre class=" CodeMirror-line "
                                                                                 role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 处理响应信息的方法</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param response SearchResponse</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @return PageResult</span></span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable">PageResult</span> <span class="cm-variable">handleResponse</span>(<span
                class="cm-variable">SearchResponse</span> <span class="cm-variable">response</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchHits</span> <span class="cm-variable">searchHits</span> <span
                class="cm-operator">=</span> <span class="cm-variable">response</span>.<span
                class="cm-variable">getHits</span>();</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.1.总条数</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">long</span> <span class="cm-variable">total</span> <span
                class="cm-operator">=</span> <span class="cm-variable">searchHits</span>.<span class="cm-variable">getTotalHits</span>().<span
                class="cm-variable">value</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 4.2.获取文档数组</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchHit</span>[] <span class="cm-variable">hits</span> <span
                class="cm-operator">=</span> <span class="cm-variable">searchHits</span>.<span class="cm-variable">getHits</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.3.遍历</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">List</span><span
                class="cm-operator">&lt;</span><span class="cm-variable">HotelDoc</span><span
                class="cm-operator">&gt;</span> <span class="cm-variable">hotels</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                class="cm-variable">ArrayList</span><span class="cm-operator">&lt;&gt;</span>(<span class="cm-variable">hits</span>.<span
                class="cm-variable">length</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span
                class="cm-variable">SearchHit</span> <span class="cm-variable">hit</span> : <span class="cm-variable">hits</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.4.获取source</span></span></pre><pre class=" CodeMirror-line "
                                                                           role="presentation"><span role="presentation"
                                                                                                     style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">json</span> <span
                class="cm-operator">=</span> <span class="cm-variable">hit</span>.<span class="cm-variable">getSourceAsString</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.5.反序列化，非高亮的</span></span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">HotelDoc</span> <span class="cm-variable">hotelDoc</span> <span class="cm-operator">=</span> <span
                class="cm-variable">JSON</span>.<span class="cm-variable">parseObject</span>(<span class="cm-variable">json</span>, <span
                class="cm-variable">HotelDoc</span>.<span class="cm-keyword">class</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.6.处理高亮结果</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1)获取高亮map</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span
                class="cm-variable-3">String</span>, <span class="cm-variable">HighlightField</span><span
                class="cm-operator">&gt;</span> <span class="cm-variable">map</span> <span class="cm-operator">=</span> <span
                class="cm-variable">hit</span>.<span class="cm-variable">getHighlightFields</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断集合是否为空，避免空指针</span></span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">map</span> <span
                class="cm-operator">!=</span> <span class="cm-atom">null</span> <span
                class="cm-operator">&amp;&amp;</span> <span class="cm-operator">!</span><span
                class="cm-variable">map</span>.<span class="cm-variable">isEmpty</span>())</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2）根据字段名，获取高亮结果</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">HighlightField</span> <span class="cm-variable">highlightField</span> <span
                class="cm-operator">=</span> <span class="cm-variable">map</span>.<span
                class="cm-variable">get</span>(<span class="cm-string">"name"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断高亮字段是否为空，避免空指针</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">highlightField</span> <span class="cm-operator">!=</span> <span
                class="cm-atom">null</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation"
                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3）获取高亮结果字符串数组中的第1个元素</span></span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">hName</span> <span
                class="cm-operator">=</span> <span class="cm-variable">highlightField</span>.<span class="cm-variable">getFragments</span>()[<span
                class="cm-number">0</span>].<span class="cm-variable">toString</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4）把高亮结果放到HotelDoc中，覆盖原有的数据</span></span></pre><pre class=" CodeMirror-line "
                                                                                         role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">hotelDoc</span>.<span class="cm-variable">setName</span>(<span class="cm-variable">hName</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.8.排序信息</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">Object</span>[] <span class="cm-variable">sortValues</span> <span
                class="cm-operator">=</span> <span class="cm-variable">hit</span>.<span class="cm-variable">getSortValues</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">sortValues</span>.<span class="cm-variable">length</span> <span
                class="cm-operator">&gt;</span> <span class="cm-number">0</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//设置距离</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">hotelDoc</span>.<span class="cm-variable">setDistance</span>(<span
                class="cm-variable">sortValues</span>[<span class="cm-number">0</span>]);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.9.放入集合</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">hotels</span>.<span class="cm-variable">add</span>(<span class="cm-variable">hotelDoc</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//返回数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">PageResult</span>(<span class="cm-variable">total</span>, <span
                class="cm-variable">hotels</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "
                                                                                     role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 6371px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 6371px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <h1 id='数据同步'><span>数据同步</span></h1>
        <p><span>酒店后台数据：</span></p>
        <p><span>HotelController：</span></p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel_management</span>.<span
                class="cm-variable">controller</span>;</span></pre></div><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">baomidou</span>.<span class="cm-variable">mybatisplus</span>.<span
                class="cm-variable">extension</span>.<span class="cm-variable">plugins</span>.<span class="cm-variable">pagination</span>.<span
                class="cm-variable">Page</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel_management</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">Hotel</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel_management</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">PageResult</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel_management</span>.<span
                class="cm-variable">service</span>.<span class="cm-variable">IHotelService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">beans</span>.<span class="cm-variable">factory</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Autowired</span>;</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">web</span>.<span class="cm-variable">bind</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-operator">*</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span class="cm-variable">security</span>.<span
                class="cm-variable">InvalidParameterException</span>;</span></pre><pre class=" CodeMirror-line "
                                                                                       role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel_management</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel_management.controller</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): HotelController</span></span></pre><pre class=" CodeMirror-line "
                                                                                        role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/4</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 13:45</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Description(描述)： HotelController</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-meta">@RestController</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"><span
                class="cm-meta">@RequestMapping</span>(<span class="cm-string">"hotel"</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">HotelController</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Autowired</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable">IHotelService</span> <span class="cm-variable">hotelService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 根据id查询酒店数据</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @param id id</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return Hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@GetMapping</span>(<span
                class="cm-string">"/{id}"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">Hotel</span> <span class="cm-variable">queryById</span>(<span
                class="cm-meta">@PathVariable</span>(<span class="cm-string">"id"</span>) <span class="cm-variable-3">Long</span> <span
                class="cm-variable">id</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span
                class="cm-variable">hotelService</span>.<span class="cm-variable">getById</span>(<span
                class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 获得酒店数据，分页</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param page 当前页</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @param size 页大小</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return PageResult</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@GetMapping</span>(<span
                class="cm-string">"/list"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">PageResult</span> <span class="cm-variable">hotelList</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  (</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-meta">@RequestParam</span>(<span class="cm-variable">value</span> <span
                class="cm-operator">=</span> <span class="cm-string">"page"</span>, <span class="cm-variable">defaultValue</span> <span
                class="cm-operator">=</span> <span class="cm-string">"1"</span>) <span
                class="cm-variable-3">Integer</span> <span class="cm-variable">page</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-meta">@RequestParam</span>(<span class="cm-variable">value</span> <span
                class="cm-operator">=</span> <span class="cm-string">"size"</span>, <span class="cm-variable">defaultValue</span> <span
                class="cm-operator">=</span> <span class="cm-string">"1"</span>) <span
                class="cm-variable-3">Integer</span> <span class="cm-variable">size</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  )</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">Page</span><span class="cm-operator">&lt;</span><span
                class="cm-variable">Hotel</span><span class="cm-operator">&gt;</span> <span
                class="cm-variable">result</span> <span class="cm-operator">=</span> <span class="cm-variable">hotelService</span>.<span
                class="cm-variable">page</span>(<span class="cm-keyword">new</span> <span
                class="cm-variable">Page</span><span class="cm-operator">&lt;&gt;</span>(<span
                class="cm-variable">page</span>, <span class="cm-variable">size</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-keyword">new</span> <span class="cm-variable">PageResult</span>(<span
                class="cm-variable">result</span>.<span class="cm-variable">getTotal</span>(), <span
                class="cm-variable">result</span>.<span class="cm-variable">getRecords</span>());</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 保存或者添加一条酒店信息</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param hotel Hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@PostMapping</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">saveHotel</span>(<span
                class="cm-meta">@RequestBody</span> <span class="cm-variable">Hotel</span> <span class="cm-variable">hotel</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">hotelService</span>.<span class="cm-variable">saveHotel</span>(<span
                class="cm-variable">hotel</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 更新酒店数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param hotel Hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@PutMapping</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">updateById</span>(<span
                class="cm-meta">@RequestBody</span> <span class="cm-variable">Hotel</span> <span class="cm-variable">hotel</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">hotelService</span>.<span class="cm-variable">updateHotelById</span>(<span
                class="cm-variable">hotel</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 删除酒店数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param id 要删除的酒店id</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@DeleteMapping</span>(<span class="cm-string">"/{id}"</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">deleteById</span>(<span
                class="cm-meta">@PathVariable</span>(<span class="cm-string">"id"</span>) <span class="cm-variable-3">Long</span> <span
                class="cm-variable">id</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span
                class="cm-variable">hotelService</span>.<span class="cm-variable">deleteHotelById</span>(<span
                class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "
                                                                                     role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 2208px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 2208px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <p><span>接口：</span></p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel_management</span>.<span
                class="cm-variable">service</span>;</span></pre></div><pre class=" CodeMirror-line "
                                                                           role="presentation"><span role="presentation"
                                                                                                     style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">baomidou</span>.<span class="cm-variable">mybatisplus</span>.<span
                class="cm-variable">extension</span>.<span class="cm-variable">service</span>.<span class="cm-variable">IService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel_management</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">Hotel</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel_management</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel_management.service</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Interface(接口名): IHotelService</span></span></pre><pre class=" CodeMirror-line "
                                                                                           role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/4</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 13:46</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Description(描述)： 接口</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">interface</span> <span class="cm-def">IHotelService</span> <span
                class="cm-keyword">extends</span> <span class="cm-variable">IService</span><span class="cm-operator">&lt;</span><span
                class="cm-variable">Hotel</span><span class="cm-operator">&gt;</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 删除酒店数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param id 要删除的酒店id</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">deleteHotelById</span>(<span class="cm-variable-3">Long</span> <span
                class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 更新酒店数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param hotel Hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">updateHotelById</span>(<span class="cm-variable">Hotel</span> <span
                class="cm-variable">hotel</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 保存或者添加一条酒店信息</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param hotel Hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">saveHotel</span>(<span class="cm-variable">Hotel</span> <span class="cm-variable">hotel</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 989px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 989px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p><span>实现类：</span></p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel_management</span>.<span
                class="cm-variable">service</span>.<span class="cm-variable">impl</span>;</span></pre></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">baomidou</span>.<span class="cm-variable">mybatisplus</span>.<span
                class="cm-variable">extension</span>.<span class="cm-variable">service</span>.<span class="cm-variable">impl</span>.<span
                class="cm-variable">ServiceImpl</span>;</span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel_management</span>.<span
                class="cm-variable">constants</span>.<span class="cm-variable">RabbitMQConstants</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel_management</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">Hotel</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel_management</span>.<span
                class="cm-variable">mapper</span>.<span class="cm-variable">HotelMapper</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel_management</span>.<span
                class="cm-variable">service</span>.<span class="cm-variable">IHotelService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">amqp</span>.<span class="cm-variable">rabbit</span>.<span
                class="cm-variable">core</span>.<span class="cm-variable">RabbitTemplate</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">beans</span>.<span class="cm-variable">factory</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Autowired</span>;</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">stereotype</span>.<span class="cm-variable">Service</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">javax</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Resource</span>;</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span class="cm-variable">security</span>.<span
                class="cm-variable">InvalidParameterException</span>;</span></pre><pre class=" CodeMirror-line "
                                                                                       role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel_management</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel_management.service.impl</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): HotelServiceImpl</span></span></pre><pre class=" CodeMirror-line "
                                                                                         role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/4</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 13:53</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Description(描述)： HotelService实现类</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-meta">@Service</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span
                class="cm-keyword">class</span> <span class="cm-def">HotelServiceImpl</span> <span class="cm-keyword">extends</span> <span
                class="cm-variable">ServiceImpl</span><span class="cm-operator">&lt;</span><span class="cm-variable">HotelMapper</span>, <span
                class="cm-variable">Hotel</span><span class="cm-operator">&gt;</span> <span class="cm-keyword">implements</span> <span
                class="cm-variable">IHotelService</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line "
                                                                                     role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Resource</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable">RabbitTemplate</span> <span class="cm-variable">rabbitTemplate</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">deleteHotelById</span>(<span
                class="cm-variable-3">Long</span> <span class="cm-variable">id</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">this</span>.<span class="cm-variable">removeById</span>(<span
                class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//发送MQ消息</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">rabbitTemplate</span>.<span class="cm-variable">convertAndSend</span>(<span
                class="cm-variable">RabbitMQConstants</span>.<span class="cm-variable">EXCHANGE_NAME</span>, <span
                class="cm-variable">RabbitMQConstants</span>.<span class="cm-variable">DELETE_KEY</span>, <span
                class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">updateHotelById</span>(<span
                class="cm-variable">Hotel</span> <span class="cm-variable">hotel</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">hotel</span>.<span
                class="cm-variable">getId</span>() <span class="cm-operator">==</span> <span class="cm-atom">null</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">throw</span> <span class="cm-keyword">new</span> <span class="cm-variable">InvalidParameterException</span>(<span
                class="cm-string">"id不能为空"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">boolean</span> <span class="cm-variable">b</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span
                class="cm-variable">updateById</span>(<span class="cm-variable">hotel</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断是否成功</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span
                class="cm-variable">b</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//发送MQ消息</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">rabbitTemplate</span>.<span class="cm-variable">convertAndSend</span>(<span
                class="cm-variable">RabbitMQConstants</span>.<span class="cm-variable">EXCHANGE_NAME</span>, <span
                class="cm-variable">RabbitMQConstants</span>.<span class="cm-variable">INSERT_KEY</span>, <span
                class="cm-variable">hotel</span>.<span class="cm-variable">getId</span>());</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">saveHotel</span>(<span
                class="cm-variable">Hotel</span> <span class="cm-variable">hotel</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 新增酒店</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">boolean</span> <span class="cm-variable">save</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-variable">save</span>(<span
                class="cm-variable">hotel</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span
                class="cm-variable">save</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 发送MQ消息</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">rabbitTemplate</span>.<span class="cm-variable">convertAndSend</span>(<span
                class="cm-variable">RabbitMQConstants</span>.<span class="cm-variable">EXCHANGE_NAME</span>, <span
                class="cm-variable">RabbitMQConstants</span>.<span class="cm-variable">INSERT_KEY</span>, <span
                class="cm-variable">hotel</span>.<span class="cm-variable">getId</span>());</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1679px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 1679px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p><span>其它的略</span></p>
        <p>&nbsp;</p>
        <h2 id='声明队列交换机名称'><span>声明队列交换机名称</span></h2>
        <p>&nbsp;</p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel_management</span>.<span
                class="cm-variable">constants</span>;</span></pre></div><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel_management</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel_management.constants</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): RabbitMQConstants</span></span></pre><pre class=" CodeMirror-line "
                                                                                          role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/4</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 13:57</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Description(描述)： 存放RabbitMQ常量</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">RabbitMQConstants</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span
                class="cm-keyword">final</span> <span class="cm-variable-3">String</span> <span class="cm-variable">EXCHANGE_NAME</span> <span
                class="cm-operator">=</span> <span class="cm-string">"hotel.exchange"</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span
                class="cm-keyword">final</span> <span class="cm-variable-3">String</span> <span class="cm-variable">INSERT_QUEUE_NAME</span> <span
                class="cm-operator">=</span> <span class="cm-string">"hotel.insert.queue"</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span
                class="cm-keyword">final</span> <span class="cm-variable-3">String</span> <span class="cm-variable">DELETE_QUEUE_NAME</span> <span
                class="cm-operator">=</span> <span class="cm-string">"hotel.delete.queue"</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span
                class="cm-keyword">final</span> <span class="cm-variable-3">String</span> <span class="cm-variable">INSERT_KEY</span> <span
                class="cm-operator">=</span> <span class="cm-string">"hotel.insert"</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span
                class="cm-keyword">final</span> <span class="cm-variable-3">String</span> <span class="cm-variable">DELETE_KEY</span> <span
                class="cm-operator">=</span> <span class="cm-string">"hotel.delete"</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 552px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 552px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel_management</span>.<span
                class="cm-variable">config</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel_management</span>.<span
                class="cm-variable">constants</span>.<span class="cm-variable">RabbitMQConstants</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">amqp</span>.<span class="cm-variable">core</span>.<span
                class="cm-variable">Binding</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">amqp</span>.<span class="cm-variable">core</span>.<span class="cm-variable">BindingBuilder</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">amqp</span>.<span class="cm-variable">core</span>.<span class="cm-variable">DirectExchange</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">amqp</span>.<span class="cm-variable">core</span>.<span
                class="cm-variable">Queue</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">context</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Bean</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">context</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Configuration</span>;</span></pre><pre class=" CodeMirror-line "
                                                                           role="presentation"><span role="presentation"
                                                                                                     style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel_management</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel_management.config</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): RabbitMQConfig</span></span></pre><pre class=" CodeMirror-line "
                                                                                       role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/4</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 14:00</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Description(描述)： RabbitMQConfig</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* 不考虑消息丢失问题，不考虑持久化，不考虑重复消费</span></span></pre><pre class=" CodeMirror-line "
                                                                                      role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">*/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-meta">@Configuration</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">RabbitMQConfig</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 声明交换机 ，直接交换机</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return DirectExchange</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Bean</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">DirectExchange</span> <span
                class="cm-variable">directExchange</span>()</span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">DirectExchange</span>(<span class="cm-variable">RabbitMQConstants</span>.<span
                class="cm-variable">EXCHANGE_NAME</span>, <span class="cm-atom">false</span>, <span class="cm-atom">false</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* 声明队列 ，用于添加和更新酒店信息</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return Queue</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Bean</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">Queue</span> <span class="cm-variable">insertAndUpdateQueue</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-keyword">new</span> <span
                class="cm-variable">Queue</span>(<span class="cm-variable">RabbitMQConstants</span>.<span
                class="cm-variable">INSERT_QUEUE_NAME</span>, <span class="cm-atom">false</span>, <span class="cm-atom">false</span>, <span
                class="cm-atom">false</span>, <span class="cm-atom">null</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* 声明队列 ，用于删除酒店信息</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return Queue</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Bean</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">Queue</span> <span class="cm-variable">deleteQueue</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-keyword">new</span> <span
                class="cm-variable">Queue</span>(<span class="cm-variable">RabbitMQConstants</span>.<span
                class="cm-variable">DELETE_QUEUE_NAME</span>, <span class="cm-atom">false</span>, <span class="cm-atom">false</span>, <span
                class="cm-atom">false</span>, <span class="cm-atom">null</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* insertAndUpdateQueue绑定交换机</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return Binding</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Bean</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">Binding</span> <span class="cm-variable">insertAndUpdateQueue_binding_directExchange</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">BindingBuilder</span>.<span
                class="cm-variable">bind</span>(<span class="cm-variable">insertAndUpdateQueue</span>()).<span
                class="cm-variable">to</span>(<span class="cm-variable">directExchange</span>()).<span
                class="cm-variable">with</span>(<span class="cm-variable">RabbitMQConstants</span>.<span
                class="cm-variable">INSERT_KEY</span>);</span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* deleteQueue绑定交换机</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @return Binding</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Bean</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">Binding</span> <span class="cm-variable">deleteQueue_binding_directExchange</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">BindingBuilder</span>.<span
                class="cm-variable">bind</span>(<span class="cm-variable">deleteQueue</span>()).<span
                class="cm-variable">to</span>(<span class="cm-variable">directExchange</span>()).<span
                class="cm-variable">with</span>(<span class="cm-variable">RabbitMQConstants</span>.<span
                class="cm-variable">DELETE_KEY</span>);</span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">}</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1909px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 1909px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <h2 id='接收mq消息'><span>接收MQ消息</span></h2>
        <p><span>接口：</span></p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">service</span>;</span></pre></div><pre class=" CodeMirror-line "
                                                                           role="presentation"><span role="presentation"
                                                                                                     style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">baomidou</span>.<span class="cm-variable">mybatisplus</span>.<span
                class="cm-variable">extension</span>.<span class="cm-variable">service</span>.<span class="cm-variable">IService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">Hotel</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">PageResult</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">RequestParams</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">List</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">Map</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel.service</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): IHotelService</span></span></pre><pre class=" CodeMirror-line "
                                                                                      role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/2</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 14:54</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Description(描述)： 接口</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">interface</span> <span class="cm-def">IHotelService</span> <span
                class="cm-keyword">extends</span> <span class="cm-variable">IService</span><span class="cm-operator">&lt;</span><span
                class="cm-variable">Hotel</span><span class="cm-operator">&gt;</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 搜索</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param params 参数</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @return PageResult</span></span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-variable">PageResult</span> <span class="cm-variable">search</span>(<span class="cm-variable">RequestParams</span> <span
                class="cm-variable">params</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 自动补全功能</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param prefix 要自动补全的前缀或者关键字</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @return 符合条件的列表</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-variable">List</span><span class="cm-operator">&lt;</span><span
                class="cm-variable-3">String</span><span class="cm-operator">&gt;</span> <span class="cm-variable">getSuggestions</span>(<span
                class="cm-variable-3">String</span> <span class="cm-variable">prefix</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* 添加ElasticSearch数据</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param id 要添加的id号，信息从数据库里根据id查</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">insertElasticSearchHotelById</span>(<span class="cm-variable-3">Long</span> <span
                class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* 删除ElasticSearch里某个id的数据</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @param id id</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span
                class="cm-variable">deleteElasticSearchHotelById</span>(<span class="cm-variable-3">Long</span> <span
                class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 聚合</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param params RequestParams</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @return Map&lt;String, List &lt; String&gt;&gt;</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span
                class="cm-variable-3">String</span>, <span class="cm-variable">List</span><span
                class="cm-operator">&lt;</span><span class="cm-variable-3">String</span><span class="cm-operator">&gt;&gt;</span> <span
                class="cm-variable">getFilters</span>(<span class="cm-variable">RequestParams</span> <span
                class="cm-variable">params</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "
                                                                                     role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1495px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 1495px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p><span>实现类：</span></p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">service</span>.<span class="cm-variable">impl</span>;</span></pre></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">alibaba</span>.<span class="cm-variable">fastjson</span>.<span class="cm-variable">JSON</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">baomidou</span>.<span class="cm-variable">mybatisplus</span>.<span
                class="cm-variable">core</span>.<span class="cm-variable">toolkit</span>.<span class="cm-variable">StringUtils</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span
                class="cm-variable">baomidou</span>.<span class="cm-variable">mybatisplus</span>.<span
                class="cm-variable">extension</span>.<span class="cm-variable">service</span>.<span class="cm-variable">impl</span>.<span
                class="cm-variable">ServiceImpl</span>;</span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">lombok</span>.<span class="cm-variable">extern</span>.<span
                class="cm-variable">slf4j</span>.<span class="cm-variable">Slf4j</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">Hotel</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">HotelDoc</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">PageResult</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">entity</span>.<span class="cm-variable">RequestParams</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">mapper</span>.<span class="cm-variable">HotelMapper</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">service</span>.<span class="cm-variable">IHotelService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">delete</span>.<span class="cm-variable">DeleteRequest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">delete</span>.<span class="cm-variable">DeleteResponse</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">index</span>.<span class="cm-variable">IndexRequest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">index</span>.<span class="cm-variable">IndexResponse</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">search</span>.<span class="cm-variable">SearchRequest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">action</span>.<span class="cm-variable">search</span>.<span class="cm-variable">SearchResponse</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">client</span>.<span class="cm-variable">RequestOptions</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">client</span>.<span class="cm-variable">RestHighLevelClient</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">common</span>.<span class="cm-variable">geo</span>.<span class="cm-variable">GeoPoint</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">common</span>.<span class="cm-variable">unit</span>.<span class="cm-variable">DistanceUnit</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">index</span>.<span class="cm-variable">query</span>.<span class="cm-variable">BoolQueryBuilder</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">index</span>.<span class="cm-variable">query</span>.<span class="cm-variable">QueryBuilders</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">index</span>.<span class="cm-variable">query</span>.<span class="cm-variable">functionscore</span>.<span
                class="cm-variable">FunctionScoreQueryBuilder</span>;</span></pre><pre class=" CodeMirror-line "
                                                                                       role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span class="cm-variable">index</span>.<span
                class="cm-variable">query</span>.<span class="cm-variable">functionscore</span>.<span
                class="cm-variable">ScoreFunctionBuilders</span>;</span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span class="cm-variable">search</span>.<span
                class="cm-variable">SearchHit</span>;</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">SearchHits</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">aggregations</span>.<span
                class="cm-variable">AggregationBuilders</span>;</span></pre><pre class=" CodeMirror-line "
                                                                                 role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span class="cm-variable">search</span>.<span
                class="cm-variable">aggregations</span>.<span class="cm-variable">Aggregations</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">aggregations</span>.<span
                class="cm-variable">bucket</span>.<span class="cm-variable">terms</span>.<span
                class="cm-variable">Terms</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span class="cm-variable">search</span>.<span
                class="cm-variable">builder</span>.<span class="cm-variable">SearchSourceBuilder</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">fetch</span>.<span class="cm-variable">subphase</span>.<span
                class="cm-variable">highlight</span>.<span class="cm-variable">HighlightField</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">sort</span>.<span class="cm-variable">SortBuilders</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">sort</span>.<span class="cm-variable">SortOrder</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">suggest</span>.<span class="cm-variable">Suggest</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">suggest</span>.<span class="cm-variable">SuggestBuilder</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">suggest</span>.<span class="cm-variable">SuggestBuilders</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span
                class="cm-variable">search</span>.<span class="cm-variable">suggest</span>.<span class="cm-variable">completion</span>.<span
                class="cm-variable">CompletionSuggestion</span>;</span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">elasticsearch</span>.<span class="cm-variable">xcontent</span>.<span
                class="cm-variable">XContentType</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">beans</span>.<span class="cm-variable">factory</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Autowired</span>;</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">stereotype</span>.<span class="cm-variable">Service</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">io</span>.<span class="cm-variable">IOException</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">ArrayList</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">HashMap</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">List</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span
                class="cm-variable">util</span>.<span class="cm-variable">Map</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel.service.impl</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): HotelServiceImpl</span></span></pre><pre class=" CodeMirror-line "
                                                                                         role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/2</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 14:58</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Description(描述)： 无</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-meta">@Service</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Slf4j</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">HotelServiceImpl</span> <span
                class="cm-keyword">extends</span> <span class="cm-variable">ServiceImpl</span><span class="cm-operator">&lt;</span><span
                class="cm-variable">HotelMapper</span>, <span class="cm-variable">Hotel</span><span class="cm-operator">&gt;</span> <span
                class="cm-keyword">implements</span> <span class="cm-variable">IHotelService</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Autowired</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable">RestHighLevelClient</span> <span
                class="cm-variable">restHighLevelClient</span>;</span></pre><pre class=" CodeMirror-line "
                                                                                 role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">PageResult</span> <span class="cm-variable">search</span>(<span
                class="cm-variable">RequestParams</span> <span class="cm-variable">params</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">try</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备Request</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchRequest</span> <span class="cm-variable">request</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                class="cm-variable">SearchRequest</span>(<span class="cm-string">"hotel"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.准备请求参数</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.1.query</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">buildBasicQuery</span>(<span class="cm-variable">params</span>, <span
                class="cm-variable">request</span>);</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.2.分页</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">int</span> <span class="cm-variable">page</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span
                class="cm-variable">getPage</span>();</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">int</span> <span class="cm-variable">size</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span
                class="cm-variable">getSize</span>();</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">from</span>((<span
                class="cm-variable">page</span> <span class="cm-operator">-</span> <span
                class="cm-number">1</span>) <span class="cm-operator">*</span> <span
                class="cm-variable">size</span>).<span class="cm-variable">size</span>(<span
                class="cm-variable">size</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//排序</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">sortBy</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span
                class="cm-variable">getSortBy</span>();</span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">sortBy</span> <span
                class="cm-operator">!=</span> <span class="cm-atom">null</span> <span
                class="cm-operator">&amp;&amp;</span> <span class="cm-operator">!</span><span
                class="cm-variable">sortBy</span>.<span class="cm-variable">equals</span>(<span class="cm-string">"default"</span>))</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">sort</span>(<span
                class="cm-variable">sortBy</span>, <span class="cm-variable">SortOrder</span>.<span class="cm-variable">DESC</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.3.距离排序</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">location</span> <span class="cm-operator">=</span> <span
                class="cm-variable">params</span>.<span class="cm-variable">getLocation</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断距离信息是否为空</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">StringUtils</span>.<span class="cm-variable">isNotBlank</span>(<span
                class="cm-variable">location</span>))</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//如果距离信息不为空，按距离排序</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">sort</span>(<span
                class="cm-variable">SortBuilders</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">geoDistanceSort</span>(<span class="cm-string">"location"</span>, <span
                class="cm-keyword">new</span> <span class="cm-variable">GeoPoint</span>(<span class="cm-variable">location</span>))</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//升序</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">order</span>(<span class="cm-variable">SortOrder</span>.<span class="cm-variable">ASC</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//单位为千米</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">unit</span>(<span class="cm-variable">DistanceUnit</span>.<span class="cm-variable">KILOMETERS</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  );</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3.发送请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchResponse</span> <span class="cm-variable">response</span> <span
                class="cm-operator">=</span> <span class="cm-variable">restHighLevelClient</span>.<span
                class="cm-variable">search</span>(<span class="cm-variable">request</span>, <span class="cm-variable">RequestOptions</span>.<span
                class="cm-variable">DEFAULT</span>);</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.解析响应</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">handleResponse</span>(<span
                class="cm-variable">response</span>);</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">catch</span> (<span class="cm-variable">IOException</span> <span class="cm-variable">e</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">throw</span> <span class="cm-keyword">new</span> <span class="cm-variable">RuntimeException</span>(<span
                class="cm-string">"搜索数据失败"</span>, <span class="cm-variable">e</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">List</span><span
                class="cm-operator">&lt;</span><span class="cm-variable-3">String</span><span
                class="cm-operator">&gt;</span> <span class="cm-variable">getSuggestions</span>(<span
                class="cm-variable-3">String</span> <span class="cm-variable">prefix</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">try</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//构建搜索请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchRequest</span> <span class="cm-variable">searchRequest</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                class="cm-variable">SearchRequest</span>(<span class="cm-string">"hotel"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//构建请求体</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchSourceBuilder</span> <span
                class="cm-variable">searchSourceBuilder</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">SearchSourceBuilder</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//自动补全</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">searchSourceBuilder</span>.<span class="cm-variable">suggest</span>(<span
                class="cm-keyword">new</span> <span class="cm-variable">SuggestBuilder</span>()</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">addSuggestion</span>(<span class="cm-string">"suggestions"</span>,</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SuggestBuilders</span>.<span class="cm-variable">completionSuggestion</span>(<span
                class="cm-string">"suggestion"</span>)</span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">prefix</span>(<span class="cm-variable">prefix</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">size</span>(<span class="cm-number">10</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span
                class="cm-variable">skipDuplicates</span>(<span class="cm-atom">true</span>)));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//放入到请求中</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">searchRequest</span>.<span class="cm-variable">source</span>(<span
                class="cm-variable">searchSourceBuilder</span>);</span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//发起请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchResponse</span> <span class="cm-variable">searchResponse</span> <span
                class="cm-operator">=</span> <span class="cm-variable">restHighLevelClient</span>.<span
                class="cm-variable">search</span>(<span class="cm-variable">searchRequest</span>, <span
                class="cm-variable">RequestOptions</span>.<span class="cm-variable">DEFAULT</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//获取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//获取补全部分</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">Suggest</span> <span class="cm-variable">suggest</span> <span
                class="cm-operator">=</span> <span class="cm-variable">searchResponse</span>.<span class="cm-variable">getSuggest</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">CompletionSuggestion</span> <span class="cm-variable">suggestions</span> <span
                class="cm-operator">=</span> <span class="cm-variable">suggest</span>.<span class="cm-variable">getSuggestion</span>(<span
                class="cm-string">"suggestions"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">List</span><span class="cm-operator">&lt;</span><span class="cm-variable">CompletionSuggestion</span>.<span
                class="cm-variable">Entry</span>.<span class="cm-variable">Option</span><span
                class="cm-operator">&gt;</span> <span class="cm-variable">options</span> <span
                class="cm-operator">=</span> <span class="cm-variable">suggestions</span>.<span class="cm-variable">getOptions</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//遍历数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">List</span><span class="cm-operator">&lt;</span><span
                class="cm-variable-3">String</span><span class="cm-operator">&gt;</span> <span
                class="cm-variable">list</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">ArrayList</span><span class="cm-operator">&lt;&gt;</span>(<span
                class="cm-variable">options</span>.<span class="cm-variable">size</span>());</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">for</span> (<span class="cm-variable">CompletionSuggestion</span>.<span
                class="cm-variable">Entry</span>.<span class="cm-variable">Option</span> <span class="cm-variable">option</span> : <span
                class="cm-variable">options</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//获取文本信息</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">text</span> <span
                class="cm-operator">=</span> <span class="cm-variable">option</span>.<span
                class="cm-variable">getText</span>().<span class="cm-variable">string</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//加入到集合中</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">list</span>.<span class="cm-variable">add</span>(<span
                class="cm-variable">text</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//返回数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">list</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">catch</span> (<span class="cm-variable">Exception</span> <span
                class="cm-variable">e</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">throw</span> <span class="cm-keyword">new</span> <span class="cm-variable">RuntimeException</span>(<span
                class="cm-variable">e</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 填充查询参数的方法</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param params  RequestParams</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @param request SearchRequest</span></span></pre><pre class=" CodeMirror-line "
                                                                                          role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable-3">void</span> <span class="cm-variable">buildBasicQuery</span>(<span
                class="cm-variable">RequestParams</span> <span class="cm-variable">params</span>, <span
                class="cm-variable">SearchRequest</span> <span class="cm-variable">request</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.准备Boolean查询</span></span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">BoolQueryBuilder</span> <span
                class="cm-variable">boolQuery</span> <span class="cm-operator">=</span> <span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">boolQuery</span>();</span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.1.关键字搜索，match查询，放到must中</span></span></pre><pre class=" CodeMirror-line "
                                                                                        role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">key</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span
                class="cm-variable">getKey</span>();</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断关键字是否为空</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">StringUtils</span>.<span class="cm-variable">isNotBlank</span>(<span
                class="cm-variable">key</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 不为空，根据关键字查询</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">must</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">matchQuery</span>(<span class="cm-string">"all"</span>, <span class="cm-variable">key</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 为空，查询所有</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">must</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">matchAllQuery</span>());</span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.2.品牌</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">brand</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span
                class="cm-variable">getBrand</span>();</span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断品牌信息是否为空</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">StringUtils</span>.<span class="cm-variable">isNotBlank</span>(<span
                class="cm-variable">brand</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//品牌信息不为空，过滤掉其它品牌，不参与算分</span></span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">filter</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">termQuery</span>(<span class="cm-string">"brand"</span>, <span class="cm-variable">brand</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.3.城市</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">city</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span
                class="cm-variable">getCity</span>();</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断城市是否为空</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">StringUtils</span>.<span class="cm-variable">isNotBlank</span>(<span
                class="cm-variable">city</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//不为空，过滤掉其它城市，不参与算分</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">filter</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">termQuery</span>(<span class="cm-string">"city"</span>, <span class="cm-variable">city</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.4.星级</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">starName</span> <span class="cm-operator">=</span> <span
                class="cm-variable">params</span>.<span class="cm-variable">getStarName</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断星级信息是否为空</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">StringUtils</span>.<span class="cm-variable">isNotBlank</span>(<span
                class="cm-variable">starName</span>))</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//不为空，过滤掉其它星级，不参与算分</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">filter</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">termQuery</span>(<span class="cm-string">"starName"</span>, <span
                class="cm-variable">starName</span>));</span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1.5.价格范围</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//最小价格</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">Integer</span> <span class="cm-variable">minPrice</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span class="cm-variable">getMinPrice</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//最大价格</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">Integer</span> <span class="cm-variable">maxPrice</span> <span
                class="cm-operator">=</span> <span class="cm-variable">params</span>.<span class="cm-variable">getMaxPrice</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断是否选择了价格区间</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">minPrice</span> <span
                class="cm-operator">!=</span> <span class="cm-atom">null</span> <span
                class="cm-operator">&amp;&amp;</span> <span class="cm-variable">maxPrice</span> <span
                class="cm-operator">!=</span> <span class="cm-atom">null</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//选择了价格区间</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//是否有最大值，没有最大值，就是xxx元以上</span></span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">maxPrice</span> <span class="cm-operator">=</span> <span class="cm-variable">maxPrice</span> <span
                class="cm-operator">==</span> <span class="cm-number">0</span> <span class="cm-operator">?</span> <span
                class="cm-variable-3">Integer</span>.<span class="cm-variable">MAX_VALUE</span> : <span
                class="cm-variable">maxPrice</span>;</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//设置价格区间</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>.<span class="cm-variable">filter</span>(<span class="cm-variable">QueryBuilders</span>.<span
                class="cm-variable">rangeQuery</span>(<span class="cm-string">"price"</span>).<span class="cm-variable">gte</span>(<span
                class="cm-variable">minPrice</span>).<span class="cm-variable">lte</span>(<span class="cm-variable">maxPrice</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2.算分函数查询</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">FunctionScoreQueryBuilder</span> <span class="cm-variable">functionScoreQuery</span> <span
                class="cm-operator">=</span> <span class="cm-variable">QueryBuilders</span>.<span class="cm-variable">functionScoreQuery</span>(</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">boolQuery</span>, <span class="cm-comment">// 原始查询，boolQuery</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">new</span> <span class="cm-variable">FunctionScoreQueryBuilder</span>.<span
                class="cm-variable">FilterFunctionBuilder</span>[]</span></pre><pre class=" CodeMirror-line "
                                                                                    role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  { <span
                class="cm-comment">// function数组</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">new</span> <span class="cm-variable">FunctionScoreQueryBuilder</span>.<span
                class="cm-variable">FilterFunctionBuilder</span>(</span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断是否是广告，如果是，分数加10倍</span></span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">QueryBuilders</span>.<span class="cm-variable">termQuery</span>(<span
                class="cm-string">"isAD"</span>, <span class="cm-atom">true</span>), <span
                class="cm-comment">// 过滤条件</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">ScoreFunctionBuilders</span>.<span
                class="cm-variable">weightFactorFunction</span>(<span class="cm-number">10</span>) <span
                class="cm-comment">// 算分函数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  )</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  );</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3.设置查询条件</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">query</span>(<span
                class="cm-variable">functionScoreQuery</span>);</span></pre><pre class=" CodeMirror-line "
                                                                                 role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 处理响应信息的方法</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param response SearchResponse</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @return PageResult</span></span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable">PageResult</span> <span class="cm-variable">handleResponse</span>(<span
                class="cm-variable">SearchResponse</span> <span class="cm-variable">response</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchHits</span> <span class="cm-variable">searchHits</span> <span
                class="cm-operator">=</span> <span class="cm-variable">response</span>.<span
                class="cm-variable">getHits</span>();</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.1.总条数</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">long</span> <span class="cm-variable">total</span> <span
                class="cm-operator">=</span> <span class="cm-variable">searchHits</span>.<span class="cm-variable">getTotalHits</span>().<span
                class="cm-variable">value</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 4.2.获取文档数组</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchHit</span>[] <span class="cm-variable">hits</span> <span
                class="cm-operator">=</span> <span class="cm-variable">searchHits</span>.<span class="cm-variable">getHits</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.3.遍历</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">List</span><span
                class="cm-operator">&lt;</span><span class="cm-variable">HotelDoc</span><span
                class="cm-operator">&gt;</span> <span class="cm-variable">hotels</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                class="cm-variable">ArrayList</span><span class="cm-operator">&lt;&gt;</span>(<span class="cm-variable">hits</span>.<span
                class="cm-variable">length</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span
                class="cm-variable">SearchHit</span> <span class="cm-variable">hit</span> : <span class="cm-variable">hits</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.4.获取source</span></span></pre><pre class=" CodeMirror-line "
                                                                           role="presentation"><span role="presentation"
                                                                                                     style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">json</span> <span
                class="cm-operator">=</span> <span class="cm-variable">hit</span>.<span class="cm-variable">getSourceAsString</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.5.反序列化，非高亮的</span></span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">HotelDoc</span> <span class="cm-variable">hotelDoc</span> <span class="cm-operator">=</span> <span
                class="cm-variable">JSON</span>.<span class="cm-variable">parseObject</span>(<span class="cm-variable">json</span>, <span
                class="cm-variable">HotelDoc</span>.<span class="cm-keyword">class</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.6.处理高亮结果</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 1)获取高亮map</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span
                class="cm-variable-3">String</span>, <span class="cm-variable">HighlightField</span><span
                class="cm-operator">&gt;</span> <span class="cm-variable">map</span> <span class="cm-operator">=</span> <span
                class="cm-variable">hit</span>.<span class="cm-variable">getHighlightFields</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断集合是否为空，避免空指针</span></span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">map</span> <span
                class="cm-operator">!=</span> <span class="cm-atom">null</span> <span
                class="cm-operator">&amp;&amp;</span> <span class="cm-operator">!</span><span
                class="cm-variable">map</span>.<span class="cm-variable">isEmpty</span>())</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 2）根据字段名，获取高亮结果</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">HighlightField</span> <span class="cm-variable">highlightField</span> <span
                class="cm-operator">=</span> <span class="cm-variable">map</span>.<span
                class="cm-variable">get</span>(<span class="cm-string">"name"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断高亮字段是否为空，避免空指针</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">highlightField</span> <span class="cm-operator">!=</span> <span
                class="cm-atom">null</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation"
                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 3）获取高亮结果字符串数组中的第1个元素</span></span></pre><pre class=" CodeMirror-line "
                                                                                   role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">hName</span> <span
                class="cm-operator">=</span> <span class="cm-variable">highlightField</span>.<span class="cm-variable">getFragments</span>()[<span
                class="cm-number">0</span>].<span class="cm-variable">toString</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4）把高亮结果放到HotelDoc中，覆盖原有的数据</span></span></pre><pre class=" CodeMirror-line "
                                                                                         role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">hotelDoc</span>.<span class="cm-variable">setName</span>(<span class="cm-variable">hName</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.8.排序信息</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">Object</span>[] <span class="cm-variable">sortValues</span> <span
                class="cm-operator">=</span> <span class="cm-variable">hit</span>.<span class="cm-variable">getSortValues</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">sortValues</span>.<span class="cm-variable">length</span> <span
                class="cm-operator">&gt;</span> <span class="cm-number">0</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//设置距离</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">hotelDoc</span>.<span class="cm-variable">setDistance</span>(<span
                class="cm-variable">sortValues</span>[<span class="cm-number">0</span>]);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">// 4.9.放入集合</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">hotels</span>.<span class="cm-variable">add</span>(<span class="cm-variable">hotelDoc</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//返回数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">PageResult</span>(<span class="cm-variable">total</span>, <span
                class="cm-variable">hotels</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">insertElasticSearchHotelById</span>(<span
                class="cm-variable-3">Long</span> <span class="cm-variable">id</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">try</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">log</span>.<span class="cm-variable">debug</span>(<span class="cm-string">"开始添加或者更新ElasticSearch文档："</span> <span
                class="cm-operator">+</span> <span class="cm-variable">id</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//查询数据库</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">Hotel</span> <span class="cm-variable">hotel</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span
                class="cm-variable">getById</span>(<span class="cm-variable">id</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断结果是否为空</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">hotel</span> <span class="cm-operator">==</span> <span
                class="cm-atom">null</span> <span class="cm-operator">||</span> <span
                class="cm-variable">hotel</span>.<span class="cm-variable">getId</span>() <span
                class="cm-operator">==</span> <span class="cm-atom">null</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//数据库里查不到，无法插入或者更新</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">log</span>.<span class="cm-variable">warn</span>(<span
                class="cm-string">"数据库里id为"</span> <span class="cm-operator">+</span> <span
                class="cm-variable">id</span> <span class="cm-operator">+</span> <span class="cm-string">"的数据不存在，无法添加或者更新ElasticSearch"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//数据库里存在</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//转文档类型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">HotelDoc</span> <span class="cm-variable">hotelDoc</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">HotelDoc</span>(<span
                class="cm-variable">hotel</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//构建请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">IndexRequest</span> <span class="cm-variable">indexRequest</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                class="cm-variable">IndexRequest</span>(<span class="cm-string">"hotel"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//设置id</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">indexRequest</span>.<span class="cm-variable">id</span>(<span class="cm-variable">hotel</span>.<span
                class="cm-variable">getId</span>().<span class="cm-variable">toString</span>());</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//转json</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">json</span> <span
                class="cm-operator">=</span> <span class="cm-variable">JSON</span>.<span class="cm-variable">toJSONString</span>(<span
                class="cm-variable">hotelDoc</span>);</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//构建请求体</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">indexRequest</span>.<span class="cm-variable">source</span>(<span
                class="cm-variable">json</span>, <span class="cm-variable">XContentType</span>.<span
                class="cm-variable">JSON</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//发起请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">IndexResponse</span> <span class="cm-variable">indexResponse</span> <span
                class="cm-operator">=</span> <span class="cm-variable">restHighLevelClient</span>.<span
                class="cm-variable">index</span>(<span class="cm-variable">indexRequest</span>, <span
                class="cm-variable">RequestOptions</span>.<span class="cm-variable">DEFAULT</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">log</span>.<span class="cm-variable">debug</span>(<span class="cm-string">"添加或者更新ElasticSearch文档成功："</span> <span
                class="cm-operator">+</span> <span class="cm-variable">id</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">catch</span> (<span class="cm-variable">Exception</span> <span
                class="cm-variable">e</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断是否成功</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">e</span>.<span
                class="cm-variable">getMessage</span>().<span class="cm-variable">contains</span>(<span
                class="cm-string">"response=HTTP/1.1 200 OK}"</span>))</span></pre><pre class=" CodeMirror-line "
                                                                                        role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">log</span>.<span class="cm-variable">debug</span>(<span class="cm-string">"添加或者更新ElasticSearch文档成功："</span> <span
                class="cm-operator">+</span> <span class="cm-variable">id</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">log</span>.<span class="cm-variable">warn</span>(<span class="cm-string">"添加或者更新ElasticSearch文档失败："</span> <span
                class="cm-operator">+</span> <span class="cm-variable">id</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//抛出</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">throw</span> <span class="cm-keyword">new</span> <span class="cm-variable">RuntimeException</span>(<span
                class="cm-variable">e</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">deleteElasticSearchHotelById</span>(<span
                class="cm-variable-3">Long</span> <span class="cm-variable">id</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">try</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">log</span>.<span class="cm-variable">debug</span>(<span class="cm-string">"开始删除ElasticSearch文档："</span> <span
                class="cm-operator">+</span> <span class="cm-variable">id</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//构建请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">DeleteRequest</span> <span class="cm-variable">deleteRequest</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                class="cm-variable">DeleteRequest</span>(<span class="cm-string">"hotel"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//设置id</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">deleteRequest</span>.<span class="cm-variable">id</span>(<span class="cm-variable">id</span>.<span
                class="cm-variable">toString</span>());</span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//发起请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">DeleteResponse</span> <span class="cm-variable">deleteResponse</span> <span
                class="cm-operator">=</span> <span class="cm-variable">restHighLevelClient</span>.<span
                class="cm-variable">delete</span>(<span class="cm-variable">deleteRequest</span>, <span
                class="cm-variable">RequestOptions</span>.<span class="cm-variable">DEFAULT</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">log</span>.<span class="cm-variable">debug</span>(<span class="cm-string">"删除ElasticSearch文档成功："</span> <span
                class="cm-operator">+</span> <span class="cm-variable">id</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">catch</span> (<span class="cm-variable">Exception</span> <span
                class="cm-variable">e</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//判断是否成功</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">if</span> (<span class="cm-variable">e</span>.<span
                class="cm-variable">getMessage</span>().<span class="cm-variable">contains</span>(<span
                class="cm-string">"response=HTTP/1.1 200 OK}"</span>))</span></pre><pre class=" CodeMirror-line "
                                                                                        role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">log</span>.<span class="cm-variable">debug</span>(<span class="cm-string">"删除ElasticSearch文档成功："</span> <span
                class="cm-operator">+</span> <span class="cm-variable">id</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">log</span>.<span class="cm-variable">warn</span>(<span class="cm-string">"删除ElasticSearch文档失败："</span> <span
                class="cm-operator">+</span> <span class="cm-variable">id</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//抛出</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">throw</span> <span class="cm-keyword">new</span> <span class="cm-variable">RuntimeException</span>(<span
                class="cm-variable">e</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable">Map</span><span
                class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span
                class="cm-variable">List</span><span class="cm-operator">&lt;</span><span
                class="cm-variable-3">String</span><span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">getFilters</span>(<span
                class="cm-variable">RequestParams</span> <span class="cm-variable">params</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">try</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//构建请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchRequest</span> <span class="cm-variable">searchRequest</span> <span
                class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                class="cm-variable">SearchRequest</span>(<span class="cm-string">"hotel"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//查询</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">buildBasicQuery</span>(<span class="cm-variable">params</span>, <span
                class="cm-variable">searchRequest</span>);</span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//分页</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">searchRequest</span>.<span class="cm-variable">source</span>().<span
                class="cm-variable">size</span>(<span class="cm-number">0</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//聚合</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">buildAggregations</span>(<span
                class="cm-variable">searchRequest</span>);</span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//发起请求</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">SearchResponse</span> <span class="cm-variable">searchResponse</span> <span
                class="cm-operator">=</span> <span class="cm-variable">restHighLevelClient</span>.<span
                class="cm-variable">search</span>(<span class="cm-variable">searchRequest</span>, <span
                class="cm-variable">RequestOptions</span>.<span class="cm-variable">DEFAULT</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//获取数据</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//获取aggregations部分</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">Aggregations</span> <span class="cm-variable">aggregations</span> <span
                class="cm-operator">=</span> <span class="cm-variable">searchResponse</span>.<span class="cm-variable">getAggregations</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span
                class="cm-variable-3">String</span>, <span class="cm-variable">List</span><span
                class="cm-operator">&lt;</span><span class="cm-variable-3">String</span><span class="cm-operator">&gt;&gt;</span> <span
                class="cm-variable">filters</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">HashMap</span><span
                class="cm-operator">&lt;&gt;</span>(<span class="cm-number">3</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//获取品牌</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">List</span><span class="cm-operator">&lt;</span><span
                class="cm-variable-3">String</span><span class="cm-operator">&gt;</span> <span class="cm-variable">brandList</span> <span
                class="cm-operator">=</span> <span class="cm-variable">getAggregationByName</span>(<span
                class="cm-variable">aggregations</span>, <span class="cm-string">"brandAgg"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">filters</span>.<span class="cm-variable">put</span>(<span
                class="cm-string">"brand"</span>, <span class="cm-variable">brandList</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//获取城市</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">List</span><span class="cm-operator">&lt;</span><span
                class="cm-variable-3">String</span><span class="cm-operator">&gt;</span> <span class="cm-variable">cityList</span> <span
                class="cm-operator">=</span> <span class="cm-variable">getAggregationByName</span>(<span
                class="cm-variable">aggregations</span>, <span class="cm-string">"cityAgg"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">filters</span>.<span class="cm-variable">put</span>(<span
                class="cm-string">"city"</span>, <span class="cm-variable">cityList</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//获取星级</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">List</span><span class="cm-operator">&lt;</span><span
                class="cm-variable-3">String</span><span class="cm-operator">&gt;</span> <span class="cm-variable">starList</span> <span
                class="cm-operator">=</span> <span class="cm-variable">getAggregationByName</span>(<span
                class="cm-variable">aggregations</span>, <span class="cm-string">"starAgg"</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">filters</span>.<span class="cm-variable">put</span>(<span class="cm-string">"starName"</span>, <span
                class="cm-variable">starList</span>);</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//返回</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">return</span> <span class="cm-variable">filters</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">catch</span> (<span class="cm-variable">Exception</span> <span
                class="cm-variable">e</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">throw</span> <span class="cm-keyword">new</span> <span class="cm-variable">RuntimeException</span>(<span
                class="cm-variable">e</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 聚合</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param request SearchRequest</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable-3">void</span> <span class="cm-variable">buildAggregations</span>(<span
                class="cm-variable">SearchRequest</span> <span class="cm-variable">request</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//分桶</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">request</span>.<span
                class="cm-variable">source</span>().<span class="cm-variable">aggregation</span>(<span
                class="cm-variable">AggregationBuilders</span>.<span class="cm-variable">terms</span>(<span
                class="cm-string">"brandAgg"</span>).<span class="cm-variable">field</span>(<span class="cm-string">"brand"</span>).<span
                class="cm-variable">size</span>(<span class="cm-number">100</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">aggregation</span>(<span
                class="cm-variable">AggregationBuilders</span>.<span class="cm-variable">terms</span>(<span
                class="cm-string">"cityAgg"</span>).<span class="cm-variable">field</span>(<span class="cm-string">"city"</span>).<span
                class="cm-variable">size</span>(<span class="cm-number">100</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">request</span>.<span class="cm-variable">source</span>().<span class="cm-variable">aggregation</span>(<span
                class="cm-variable">AggregationBuilders</span>.<span class="cm-variable">terms</span>(<span
                class="cm-string">"starAgg"</span>).<span class="cm-variable">field</span>(<span class="cm-string">"starName"</span>).<span
                class="cm-variable">size</span>(<span class="cm-number">100</span>));</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 根据聚合结果获取数据</span></span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* @param aggregations Aggregations</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @param aggName &nbsp; &nbsp;  聚合的名字</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @return List&lt;String&gt;</span></span></pre><pre class=" CodeMirror-line "
                                                                                        role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable">List</span><span class="cm-operator">&lt;</span><span
                class="cm-variable-3">String</span><span class="cm-operator">&gt;</span> <span class="cm-variable">getAggregationByName</span>(<span
                class="cm-variable">Aggregations</span> <span class="cm-variable">aggregations</span>, <span
                class="cm-variable-3">String</span> <span class="cm-variable">aggName</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//根据聚合名称，获取聚合结果</span></span></pre><pre class=" CodeMirror-line "
                                                                           role="presentation"><span role="presentation"
                                                                                                     style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">Terms</span> <span class="cm-variable">terms</span> <span
                class="cm-operator">=</span> <span class="cm-variable">aggregations</span>.<span
                class="cm-variable">get</span>(<span class="cm-variable">aggName</span>);</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//获取buckets</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">List</span><span class="cm-operator">&lt;?</span> <span
                class="cm-keyword">extends</span> <span class="cm-variable">Terms</span>.<span class="cm-variable">Bucket</span><span
                class="cm-operator">&gt;</span> <span class="cm-variable">buckets</span> <span
                class="cm-operator">=</span> <span class="cm-variable">terms</span>.<span
                class="cm-variable">getBuckets</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//遍历数据</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">List</span><span class="cm-operator">&lt;</span><span
                class="cm-variable-3">String</span><span class="cm-operator">&gt;</span> <span
                class="cm-variable">list</span> <span class="cm-operator">=</span> <span
                class="cm-keyword">new</span> <span class="cm-variable">ArrayList</span><span class="cm-operator">&lt;&gt;</span>(<span
                class="cm-variable">buckets</span>.<span class="cm-variable">size</span>());</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-keyword">for</span> (<span class="cm-variable">Terms</span>.<span
                class="cm-variable">Bucket</span> <span class="cm-variable">bucket</span> : <span class="cm-variable">buckets</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable-3">String</span> <span class="cm-variable">brandName</span> <span
                class="cm-operator">=</span> <span class="cm-variable">bucket</span>.<span class="cm-variable">getKeyAsString</span>();</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">list</span>.<span class="cm-variable">add</span>(<span
                class="cm-variable">brandName</span>);</span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-comment">//返回</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span
                class="cm-variable">list</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "
                                                                                     role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 10281px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 10281px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p><span>Listener：</span></p>
        <pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"
             style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap"
                                               lang="java"><div
                style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea
                autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                     cm-not-content="true"></div><div
                class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                             style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                          style="position: relative;"><div
                class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">package</span> <span class="cm-def">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">listener</span>;</span></pre></div><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">constants</span>.<span class="cm-variable">RabbitMQConstants</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">mao</span>.<span class="cm-variable">elasticsearch_hotel</span>.<span
                class="cm-variable">service</span>.<span class="cm-variable">IHotelService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">amqp</span>.<span class="cm-variable">rabbit</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">RabbitListener</span>;</span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span
                class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span
                class="cm-variable">stereotype</span>.<span class="cm-variable">Component</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-keyword">import</span> <span class="cm-variable">javax</span>.<span class="cm-variable">annotation</span>.<span
                class="cm-variable">Resource</span>;</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"><span
                cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Project name(项目名称)：elasticsearch_hotel_realize_data_synchronization</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Package(包名): mao.elasticsearch_hotel.listener</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Class(类名): HotelListener</span></span></pre><pre class=" CodeMirror-line "
                                                                                      role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author(作者）: mao</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Author QQ：1296193245</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* GitHub：https://github.com/maomao124/</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">* Date(创建日期)： 2022/6/4</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Time(创建时间)： 19:10</span></span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span
                class="cm-comment">* Version(版本): 1.0</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">* Description(描述)： rabbitmq的监听器，消费者</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"> <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"><span
                class="cm-meta">@Component</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span
                class="cm-keyword">class</span> <span class="cm-def">HotelListener</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;">{</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@Resource</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span
                class="cm-variable">IHotelService</span> <span class="cm-variable">hotelService</span>;</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                    style="padding-right: 0.1px;"><span cm-text=""
                                                                                                        cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">* rabbitmq的监听器，添加或者更新文档</span></span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @param id id</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@RabbitListener</span>(<span class="cm-variable">queues</span> <span
                class="cm-operator">=</span> {<span class="cm-variable">RabbitMQConstants</span>.<span
                class="cm-variable">INSERT_QUEUE_NAME</span>})</span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">insertAndUpdateHotelListener</span>(<span
                class="cm-variable-3">Long</span> <span class="cm-variable">id</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">hotelService</span>.<span
                class="cm-variable">insertElasticSearchHotelById</span>(<span
                class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                             style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-comment">/**</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* 同理，删除文档</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">* @param id id</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span
                class="cm-comment">*/</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-meta">@RabbitListener</span>(<span class="cm-variable">queues</span> <span
                class="cm-operator">=</span> {<span class="cm-variable">RabbitMQConstants</span>.<span
                class="cm-variable">DELETE_QUEUE_NAME</span>})</span></pre><pre class=" CodeMirror-line "
                                                                                role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">deleteHotelListener</span>(<span
                class="cm-variable-3">Long</span> <span class="cm-variable">id</span>)</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre
                class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                class="cm-variable">hotelService</span>.<span
                class="cm-variable">deleteElasticSearchHotelById</span>(<span
                class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line "
                                                                                              role="presentation"><span
                role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "
                                                                                     role="presentation"><span
                role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div></div></div></div></div><div
                style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1173px;"></div><div
                class="CodeMirror-gutters" style="display: none; height: 1173px;"></div></div></div></pre>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <h1 id='完整代码'><span>完整代码</span></h1>
        <p><span> </span><a href='https://github.com/maomao124/elasticsearch_hotel_final.git' target='_blank'
                            class='url'>https://github.com/maomao124/elasticsearch_hotel_final.git</a></p>
        <p><span>后台：</span></p>
        <p><a href='https://github.com/maomao124/elasticsearch_hotel_management.git' target='_blank' class='url'>https://github.com/maomao124/elasticsearch_hotel_management.git</a>
        </p>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <hr/>
        <p><span>end</span></p>
        <hr/>
        <p><span>by mao</span></p>
        <p><span>2022 06 04</span></p>
        <hr/>
        <p>&nbsp;</p></div>
</div>
</body>
</html>